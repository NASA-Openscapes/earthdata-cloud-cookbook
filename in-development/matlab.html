<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EarthData Cloud Cookbook - MATLAB Access Single NASA EarthData L2 NetCDF</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../in-development/CMR-STAC-Search.html" rel="next">
<link href="../examples/PODAAC/PODAAC_ECCO_SSH__Kerchunk.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../in-development/index.html">In Development</a></li><li class="breadcrumb-item"><a href="../in-development/matlab.html">MATLAB Access NetCDF</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/nasa-openscapes.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">NASA Earthdata Cloud Cookbook</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://nasa-openscapes.github.io" rel="" title="NASA-Openscapes website" class="quarto-navigation-tool px-1" aria-label="NASA-Openscapes website"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook" rel="" title="Earthdata Cloud Cookbook repo" class="quarto-navigation-tool px-1" aria-label="Earthdata Cloud Cookbook repo"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../when-to-cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">When To Cloud</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../our-cookbook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Our Cookbook</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cheatsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cheatsheets &amp; Slides</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../environment-setup/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Environment Setup</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">How do I…</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">find data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/find-data/earthdata_search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with Earthdata Search</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/find-data/find-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/find-data/find-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with R</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../how-tos/access-data/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">access data in cloud</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/access-data/access-cloud-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/access-data/access-cloud-r.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with R</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">access data locally</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/access-data/access-local-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/access-data/access-local-opendap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">with OPeNDAP</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/read_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">read data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/subset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">subset data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reformat data files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/reproject_regrid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reproject and regrid</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/aggregate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">aggregate data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/plot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">plot data</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../how-tos/use_apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">use APIs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/appeears_csv_cloud_access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AppEEARS Cloud CSV Access</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/how_to_guide_parking_lot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">parking lot</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../tutorials/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/Earthdata-cloud-clinic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Earthdata Cloud Clinic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/How_to_Perform_Cross-DAAC_S3_Bucket_Access_Using_Python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multi-datasets 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/IS2_cloud_Landsat_integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multi-datasets 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/Sea_level_rise_notebook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sea Level Rise: <code>earthaccess</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/04_On-Prem_Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud &amp; Non-cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/earthaccess-demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>earthaccess</code> Python library</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/fair-workflow-geoweaver-demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pygeoweaver Workflow Demo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/Earthdata_Cloud__Data_Access_OPeNDAP_Example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OPeNDAP Access</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../workshops/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshops &amp; Hackathons</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workshops/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshop Setup</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../in-development/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">In Development</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/NSIDC/ICESat2-CMR-OnPrem-vs-Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search &amp; Download NSIDC Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/NSIDC/ICESat2-CMR-AWS-S3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access NSIDC Cloud w/ CMR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/Transform-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Direct Access &amp; Harmony Workflow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/USGS_Landsat/Landsat_C2_Search_Access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search &amp; Access USGS Landsat Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/ORNL/Data_Access__Direct_S3_Access__ORNL_DAYMET.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Direct S3 Data Access: NetCDF - Daymet v4 Daily TMAX Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/cof-zarr-reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access ECCO data via Harmony &amp; the Zarr reformatter service</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/zarr-eosdis-store.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zarr-eosdis-store example</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../examples/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Workflows</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/GESDISC/GESDISC_MERRA2_tavg1_2d_flx_Nx__Kerchunk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GES DISC - MERRA2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/LPDAAC/LPDAAC_ECOSTRESS_LSTE__Kerchunk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LP DAAC ECOSTRESS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/PODAAC/PODAAC_ECCO_SSH__Kerchunk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PO.DAAC ECCO SSH</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../in-development/matlab.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">MATLAB Access NetCDF</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../in-development/CMR-STAC-Search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CMR STAC in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../in-development/earthdata-python-r-handoff.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>earthdata</code>: Python-R Handoff</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contributing/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributing</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/onboarding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Onboarding Mentors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/quarto-website-tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto Tutorial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../appendix/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/authentication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Authentication</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#launch-matlab-in-2i2c-jupyterhub" id="toc-launch-matlab-in-2i2c-jupyterhub" class="nav-link active" data-scroll-target="#launch-matlab-in-2i2c-jupyterhub">Launch MATLAB in 2i2c JupyterHub</a></li>
  <li><a href="#credentials" id="toc-credentials" class="nav-link" data-scroll-target="#credentials">Credentials</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#accessing-data" id="toc-accessing-data" class="nav-link" data-scroll-target="#accessing-data">Accessing data</a>
  <ul class="collapse">
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example">Example</a></li>
  <li><a href="#using-matlab-high-level-hdf5-interface" id="toc-using-matlab-high-level-hdf5-interface" class="nav-link" data-scroll-target="#using-matlab-high-level-hdf5-interface">Using MATLAB high-level HDF5 interface</a></li>
  <li><a href="#using-matlab-low-level-hdf5-interface" id="toc-using-matlab-low-level-hdf5-interface" class="nav-link" data-scroll-target="#using-matlab-low-level-hdf5-interface">Using MATLAB low-level HDF5 interface</a></li>
  </ul></li>
  <li><a href="#launch-with-aws-console" id="toc-launch-with-aws-console" class="nav-link" data-scroll-target="#launch-with-aws-console">Launch with AWS Console</a>
  <ul class="collapse">
  <li><a href="#prerequisites-1" id="toc-prerequisites-1" class="nav-link" data-scroll-target="#prerequisites-1">Prerequisites</a></li>
  <li><a href="#prerequisite-aws-ec2-key-pair" id="toc-prerequisite-aws-ec2-key-pair" class="nav-link" data-scroll-target="#prerequisite-aws-ec2-key-pair">Prerequisite: AWS EC2 Key Pair</a></li>
  <li><a href="#creating-the-aws-stack-with-matlab" id="toc-creating-the-aws-stack-with-matlab" class="nav-link" data-scroll-target="#creating-the-aws-stack-with-matlab">Creating the AWS Stack with MATLAB</a></li>
  <li><a href="#launch-the-aws-stack-with-microsoft-remote-desktop" id="toc-launch-the-aws-stack-with-microsoft-remote-desktop" class="nav-link" data-scroll-target="#launch-the-aws-stack-with-microsoft-remote-desktop">Launch the AWS Stack with Microsoft Remote Desktop</a></li>
  <li><a href="#open-matlab-on-remote-desktop" id="toc-open-matlab-on-remote-desktop" class="nav-link" data-scroll-target="#open-matlab-on-remote-desktop">Open MATLAB on Remote Desktop</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a>
  <ul class="collapse">
  <li><a href="#shutdown-your-aws-stack" id="toc-shutdown-your-aws-stack" class="nav-link" data-scroll-target="#shutdown-your-aws-stack">Shutdown your AWS Stack</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/edit/main/in-development/matlab.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/blob/main/in-development/matlab.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MATLAB Access Single NASA EarthData L2 NetCDF</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This tutorial was written by Erin Robinson, Luis Lopez (NASA Openscapes) and Cedric Wannaz, Lisa Kempler (Mathworks).</p>
<section id="launch-matlab-in-2i2c-jupyterhub" class="level2">
<h2 class="anchored" data-anchor-id="launch-matlab-in-2i2c-jupyterhub">Launch MATLAB in 2i2c JupyterHub</h2>
<p>You’re able to use MATLAB in the 2i2c JupyterHub; you are able to bring your own license. If you’d like to access MATLAB from the Amazon Web Services Console, see details at the bottom of this page.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/matlab-server.png" class="img-fluid figure-img" style="width:60.0%" alt="screenshot of the JupyterHub launch page that has Python, R, and MATLAB as selections, and MATLAB is selected."></p>
<figcaption class="figure-caption">Select MATLAB from the Server Options and press Start</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/matlab-launch.png" class="img-fluid figure-img" style="width:60.0%" alt="screenshot of JupyterHub interface launch page, with MATLAB kernel options"></p>
<figcaption class="figure-caption">Launch MATLAB from the JupyterHub interface by double-clicking</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/matlab-login.png" class="img-fluid figure-img" style="width:60.0%" alt="screenshot of MATLAB login page prompting your email address"></p>
<figcaption class="figure-caption">Enter your MATLAB login information</figcaption>
</figure>
</div>
</section>
<section id="credentials" class="level2">
<h2 class="anchored" data-anchor-id="credentials">Credentials</h2>
<p>Direct S3 access is achieved by passing NASA supplied temporary credentials to AWS so we can interact with S3 objects from applicable EarthData Cloud buckets. For now, each NASA DAAC has different AWS credentials endpoints. Below are some of the credential endpoints to various DAACs:</p>
<ul>
<li><p>PODAAC: <a href="https://archive.podaac.earthdata.nasa.gov/s3credentials" class="uri">https://archive.podaac.earthdata.nasa.gov/s3credentials</a></p></li>
<li><p>GESDISC: <a href="https://data.gesdisc.earthdata.nasa.gov/s3credentials" class="uri">https://data.gesdisc.earthdata.nasa.gov/s3credentials</a></p></li>
<li><p>LPDAAC: <a href="https://data.lpdaac.earthdatacloud.nasa.gov/s3credentials" class="uri">https://data.lpdaac.earthdatacloud.nasa.gov/s3credentials</a></p></li>
<li><p>ORNLDAAC: <a href="https://data.ornldaac.earthdata.nasa.gov/s3credentials" class="uri">https://data.ornldaac.earthdata.nasa.gov/s3credentials</a></p></li>
<li><p>GHRCDAAC: <a href="https://data.ghrc.earthdata.nasa.gov/s3credentials" class="uri">https://data.ghrc.earthdata.nasa.gov/s3credentials</a></p></li>
</ul>
<p>You will need your EarthData login to access these links. Create an account here: <a href="https://urs.earthdata.nasa.gov/users/new" class="uri">https://urs.earthdata.nasa.gov/users/new</a>.</p>
</section>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<ol type="1">
<li>Save the following function in a text file called <code>loadAWSCredentials.txt</code> to your MATLAB working folder or to any folder that is on <a href="https://www.mathworks.com/help/matlab/search-path.html">MATLAB search path</a>.</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span><span class="fu"> s3Credentials</span> <span class="ex">=</span> loadAWSCredentials<span class="er">(</span><span class="ex">daacCredentialsEndpoint,</span> login, password<span class="kw">)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="ex">nargin</span> <span class="op">&lt;</span> 2 <span class="kw">||</span> <span class="ex">isempty</span><span class="er">(</span><span class="fu">login</span><span class="kw">)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">login</span> = getenv<span class="er">(</span><span class="st">'EARTHDATA_LOGIN'</span><span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">end</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="ex">nargin</span> <span class="op">&lt;</span> 3 <span class="kw">||</span> <span class="ex">isempty</span><span class="er">(</span><span class="ex">password</span><span class="kw">)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">password</span> = getenv<span class="er">(</span><span class="st">'EARTHDATA_PASSWORD'</span><span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">end</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">%</span> Get S3 credentials from EarthData</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">opts</span> = weboptions<span class="er">(</span><span class="st">'ContentType'</span><span class="ex">,</span> <span class="st">'json'</span>, <span class="st">'HeaderFields'</span>, ...</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="ex">{</span><span class="st">'Authorization'</span><span class="ex">,</span> [<span class="st">'Basic '</span>,matlab.net.base64encode<span class="er">(</span><span class="ex">[login,</span><span class="st">':'</span><span class="ex">,password]</span><span class="kw">)</span><span class="ex">]}</span><span class="kw">);</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="ex">s3Credentials</span> = webread<span class="er">(</span><span class="ex">daacCredentialsEndpoint,</span> opts<span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="ex">%</span> Set relevant environment variables with AWS credentials/region</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="ex">setenv</span><span class="er">(</span><span class="st">'AWS_ACCESS_KEY_ID'</span><span class="ex">,</span> s3Credentials.accessKeyId<span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="ex">setenv</span><span class="er">(</span><span class="st">'AWS_SECRET_ACCESS_KEY'</span><span class="ex">,</span> s3Credentials.secretAccessKey<span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="ex">setenv</span><span class="er">(</span><span class="st">'AWS_SESSION_TOKEN'</span><span class="ex">,</span>  s3Credentials.sessionToken<span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">setenv</span><span class="er">(</span><span class="st">'AWS_DEFAULT_REGION'</span><span class="ex">,</span> <span class="st">'us-west-2'</span><span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="ex">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Define environment variables that specify your EarthData credentials by executing the following (updated with your credentials):</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">setenv</span><span class="er">(</span><span class="st">"EARTHDATA_LOGIN"</span><span class="ex">,</span><span class="st">"your_earthdata_login"</span><span class="kw">);</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">setenv</span><span class="er">(</span><span class="st">"EARTHDATA_PASSWORD"</span><span class="ex">,</span><span class="st">"your_earthdata_password"</span><span class="kw">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This can be done manually in the command window, in your <a href="https://www.mathworks.com/help/matlab/ref/startup.html">MATLAB startup script</a>, or in any MATLAB function/script that is executed before calling loadAWSCredentials. We recommend not to do it from your project main script, so you can share it without divulging your credentials.</p>
<ol start="3" type="1">
<li>Search NASA EarthData and find the S3 link you want to access.</li>
</ol>
</section>
<section id="accessing-data" class="level2">
<h2 class="anchored" data-anchor-id="accessing-data">Accessing data</h2>
<p>MATLAB HDF5 interfaces can access netCDF4 files stored in S3/Azure, while the netCDF interfaces cannot. The example below shows how to access a netCDF file using the HDF5 interfaces. SEe also this video: <a href="https://www.youtube.com/watch?v=JrIp-LFpPAI">MATLAB and HDF5: Compression, Cloud, and Community – Ellen Johnson, MathWorks</a>.</p>
<p>MATLAB provides <a href="https://www.mathworks.com/help/matlab/hdf5-files.html">two interfaces for accessing HDF5 datasets</a>:</p>
<ul>
<li><strong>High-level access functions</strong> make it easy to read and view data in an HDF5 file or write a variable from the MATLAB® workspace into an HDF5 file</li>
<li><strong>Low-level functions</strong> in the HDF5 library packages provide direct access to the more than 300 functions in the HDF5 C library from the HDF Group.</li>
</ul>
<p>Low-level functions allow you to access advanced HDF5 functionality and bypasses I/O overhead in the high-level interface, but has a substantially higher learning curve unless already familiar with the HDF5 C API.</p>
<section id="example" class="level3">
<h3 class="anchored" data-anchor-id="example">Example</h3>
<ol type="1">
<li>Find the relevant DAAC/endpoint for the dataset that you want to access. For the following dataset:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">s3://podaac-ops-cumulus-protected/MODIS_A-JPL-L2P-v2019.0/20100619062008-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0.nc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The relevant DAAC is PODAAC and the relevant endpoint is:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">https://archive.podaac.earthdata.nasa.gov/s3credentials</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Set AWS credentials using the <code>loadAWSCredentials</code> function, passing the relevant endpoint:</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">daacCredentialsEndpoint</span> = <span class="st">"https://archive.podaac.earthdata.nasa.gov/s3credentials"</span><span class="kw">;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">loadAWSCredentials</span><span class="er">(</span><span class="ex">daacCredentialsEndpoint</span><span class="kw">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>These credentials are temporary; they expire every 30 minutes or so and must be refreshed periodically.</p>
<ol start="3" type="1">
<li>Access data Define path of relevant file and dataset:</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">FILE_NAME</span> = <span class="st">"s3://podaac-ops-cumulus-protected/MODIS_A-JPL-L2P-v2019.0/20100619062008-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0.nc"</span><span class="kw">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">DATASET_NAME</span> = <span class="st">"sea_surface_temperature_4um"</span><span class="kw">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">DATASET_PATH</span> = <span class="st">"/"</span> + DATASET_NAME <span class="kw">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>First, check that you can access the dataset:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">h5disp</span><span class="er">(</span><span class="ex">FILE_PATH</span><span class="kw">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If credentials and paths are correct, h5disp will display the structure of the data file.</p>
</section>
<section id="using-matlab-high-level-hdf5-interface" class="level3">
<h3 class="anchored" data-anchor-id="using-matlab-high-level-hdf5-interface">Using MATLAB high-level HDF5 interface</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">units</span> = h5readatt<span class="er">(</span><span class="ex">FILE_NAME,DATASET_PATH,</span><span class="st">"units"</span><span class="kw">);</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">fill_value</span> = h5readatt<span class="er">(</span><span class="ex">FILE_NAME,DATASET_PATH,</span><span class="st">"_FillValue"</span><span class="kw">);</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">name</span> = h5readatt<span class="er">(</span><span class="ex">FILE_NAME,DATASET_PATH,</span><span class="st">"long_name"</span><span class="kw">);</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">data</span> = h5read<span class="er">(</span><span class="ex">FILE_NAME,DATASET_PATH</span><span class="kw">);</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">data</span><span class="er">(</span><span class="ex">data</span> == fill_value<span class="kw">)</span> <span class="ex">=</span> NaN<span class="kw">;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="ex">lat</span> = h5read<span class="er">(</span><span class="ex">FILE_NAME,</span><span class="st">"/lat"</span><span class="kw">);</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="ex">lon</span> = h5read<span class="er">(</span><span class="ex">FILE_NAME,</span><span class="st">"/lon"</span><span class="kw">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Build a map using <a href="https://www.mathworks.com/help/matlab/ref/contour.html">contour</a>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">contour</span><span class="er">(</span><span class="ex">lon,lat,data</span><span class="kw">);</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">title</span><span class="er">(</span><span class="ex">sprintf</span><span class="er">(</span><span class="st">"%s [%s]"</span><span class="ex">,name,units</span><span class="kw">));</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/matlab-map.png" class="img-fluid figure-img" alt="a square map with latitude and longitude and titled sea surface temperature in kelvin." width="338"></p>
<figcaption class="figure-caption">MATLAB example map</figcaption>
</figure>
</div>
</section>
<section id="using-matlab-low-level-hdf5-interface" class="level3">
<h3 class="anchored" data-anchor-id="using-matlab-low-level-hdf5-interface">Using MATLAB low-level HDF5 interface</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open file and root group</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">file_id</span> = H5F.open<span class="er">(</span><span class="ex">FILE_NAME,</span><span class="st">"H5F_ACC_RDONLY"</span><span class="ex">,</span><span class="st">"H5P_DEFAULT"</span><span class="kw">);</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">root_id</span> = H5G.open<span class="er">(</span><span class="ex">file_id,</span><span class="st">"/"</span><span class="kw">)</span> <span class="kw">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open/read sea surface temperature <span class="er">(</span><span class="ex">SST</span><span class="kw">)</span> <span class="ex">dataset</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="ex">data_id</span> = H5D.open<span class="er">(</span><span class="ex">file_id,DATASET_PATH</span><span class="kw">);</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="va">data</span><span class="op">=</span>H5D.read<span class="kw">(</span><span class="ex">data_id,</span><span class="st">"H5T_NATIVE_DOUBLE"</span><span class="ex">,</span><span class="st">"H5S_ALL"</span><span class="ex">,</span><span class="st">"H5S_ALL"</span><span class="ex">,</span><span class="st">"H5P_DEFAULT"</span><span class="kw">);</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open/read/close SST units attribute</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="ex">attr_id</span> = H5A.open_by_name<span class="er">(</span><span class="ex">root_id,DATASET_NAME,</span><span class="st">"units"</span><span class="kw">);</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="ex">units</span> = H5A.read<span class="er">(</span><span class="ex">attr_id,</span><span class="st">"H5ML_DEFAULT"</span><span class="kw">);</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="ex">H5A.close</span><span class="er">(</span><span class="ex">attr_id</span><span class="kw">);</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open/read/close SST long_name attribute</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="ex">attr_id</span> = H5A.open_by_name<span class="er">(</span><span class="ex">root_id,DATASET_NAME,</span><span class="st">"long_name"</span><span class="kw">);</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="ex">long_name</span> = H5A.read<span class="er">(</span><span class="ex">attr_id,</span><span class="st">"H5ML_DEFAULT"</span><span class="kw">);</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="ex">H5A.close</span><span class="er">(</span><span class="ex">attr_id</span><span class="kw">);</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open/read/close SST _FillValue attribute</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="ex">attr_id</span> = H5A.open_by_name<span class="er">(</span><span class="ex">root_id,DATASET_NAME,</span><span class="st">"_FillValue"</span><span class="kw">);</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="ex">fillvalue</span> = H5A.read<span class="er">(</span><span class="ex">attr_id,</span><span class="st">"H5T_NATIVE_DOUBLE"</span><span class="kw">);</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="ex">H5A.close</span><span class="er">(</span><span class="ex">attr_id</span><span class="kw">);</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Close SST dataset and root group</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="ex">H5D.close</span><span class="er">(</span><span class="ex">data_id</span><span class="kw">);</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="ex">H5G.close</span><span class="er">(</span><span class="ex">root_id</span><span class="kw">);</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open/read/close latitude dataset</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="ex">lat_id</span> = H5D.open<span class="er">(</span><span class="ex">file_id,</span><span class="st">"lat"</span><span class="kw">);</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="ex">lat</span> = H5D.read<span class="er">(</span><span class="ex">lat_id,</span><span class="st">"H5T_NATIVE_DOUBLE"</span><span class="ex">,</span><span class="st">"H5S_ALL"</span><span class="ex">,</span><span class="st">"H5S_ALL"</span><span class="ex">,</span><span class="st">"H5P_DEFAULT"</span><span class="kw">);</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="ex">H5D.close</span><span class="er">(</span><span class="ex">lat_id</span><span class="kw">);</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Open/read/close longitude dataset</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a><span class="ex">lon_id</span> = H5D.open<span class="er">(</span><span class="ex">file_id,</span><span class="st">"lon"</span><span class="kw">);</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="ex">lon</span> = H5D.read<span class="er">(</span><span class="ex">lon_id,</span><span class="st">"H5T_NATIVE_DOUBLE"</span><span class="ex">,</span><span class="st">"H5S_ALL"</span><span class="ex">,</span><span class="st">"H5S_ALL"</span><span class="ex">,</span><span class="st">"H5P_DEFAULT"</span><span class="kw">);</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="ex">H5D.close</span><span class="er">(</span><span class="ex">lon_id</span><span class="kw">);</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Close file</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a><span class="ex">H5F.close</span><span class="er">(</span><span class="ex">file_id</span><span class="kw">);</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Replace fill value with NaN</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="ex">data</span><span class="er">(</span><span class="va">data</span><span class="op">=</span>=fillvalue<span class="kw">)</span> <span class="ex">=</span> NaN<span class="kw">;</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Plot contour map</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="ex">contour</span><span class="er">(</span><span class="ex">lon,lat,data</span><span class="kw">);</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="ex">title</span><span class="er">(</span><span class="ex">sprintf</span><span class="er">(</span><span class="st">"%s [%s]"</span><span class="ex">,long_name{1},units{1}</span><span class="kw">));</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="launch-with-aws-console" class="level2">
<h2 class="anchored" data-anchor-id="launch-with-aws-console">Launch with AWS Console</h2>
<p>An alternative is to launch with the AWS Console. This chapter is for research teams currently working in MATLAB with NASA EarthData and wanting to take advantage of doing analysis in the Cloud. Our initial focus is on Amazon Web Services (AWS). For general, background on the Cloud and NASA Earthdata’s migration to the Cloud, checkout earlier chapters of the cookbook [TO DO: Add a link and specific reference].</p>
<section id="prerequisites-1" class="level3">
<h3 class="anchored" data-anchor-id="prerequisites-1">Prerequisites</h3>
<ol type="1">
<li><p>MATLAB License - You must have access to a MATLAB license that allows for access to the cloud. To check your license, in the MATLAB command line enter:</p>
<pre><code>ver -support</code></pre></li>
<li><p>AWS Account - For the current experiments, we will access the AWS console, so you need an AWS account. It is free to set up, but will require a credit card linked to the account. <a href="https://aws.amazon.com/" class="uri">https://aws.amazon.com/</a></p></li>
<li><p>AWS Region: We are working in AWS US-West-2 because NASA Earthdata is hosted in US-West-2. If there is an option to pick an AWS region, pick US-West-2.</p></li>
<li><p>GitHub Account - If you want to use GitHub as part of your workflow and don’t already have an account, create a GitHub account: <a href="https://github.com/" class="uri">https://github.com/</a></p></li>
<li><p>NASA Earthdata login - Create an account here: <a href="https://urs.earthdata.nasa.gov/users/new" class="uri">https://urs.earthdata.nasa.gov/users/new</a></p></li>
<li><p>Microsoft Remote Desktop - When we spin up the AWS virtual machine with MATLAB, we will need to have a remote desktop option. These how-to’s were done on a mac and we tested the free Microsoft Remote Desktop. <a href="https://apps.apple.com/us/app/microsoft-remote-desktop/id1295203466?mt=12">Download for macs</a></p></li>
</ol>
</section>
<section id="prerequisite-aws-ec2-key-pair" class="level3">
<h3 class="anchored" data-anchor-id="prerequisite-aws-ec2-key-pair">Prerequisite: AWS EC2 Key Pair</h3>
<p>This isn’t included in the numbered prereq list above because it is a bit more involved than creating an account or knowing what region we work in. You need to create an SSH Key Pair in the region you want to work in. This is a one-time step that you won’t need to do each time you launch the stack.</p>
<ol type="1">
<li><p>Log in to AWS</p></li>
<li><p>In the search box enter, ‘Create AWS Key Pair.’ Under features choose ‘Key Pairs’ (<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/create-key-pairs.html">AWS help</a>)<br>
<img src="images/Screen Shot 2022-05-30 at 11.30.57 AM.png" class="img-fluid" alt="AWS search for key pair"></p></li>
<li><p>Check that the top bar says, ‘Oregon’ (AKA - US-West-2) and if not, click that down arrow to choose US-West-2. Then click the orange ‘Create key pair’ button.</p>
<p><img src="images/Screen Shot 2022-05-30 at 11.32.52 AM.png" class="img-fluid"><br>
<em>Troubleshooting tip: If you create the key outside of the region you want to work in, it will not show up when you launch the stack below.</em></p></li>
<li><p>On the form - give your key a name, choose the RSA and PEM options (these should be the defaults.)</p></li>
</ol>
<p><strong>Ok - now we are ready to start!</strong></p>
</section>
<section id="creating-the-aws-stack-with-matlab" class="level3">
<h3 class="anchored" data-anchor-id="creating-the-aws-stack-with-matlab">Creating the AWS Stack with MATLAB</h3>
<p><em>Note: The first time I launched the AWS Stack it seemed to take for-ever. I thought “how could I possibly need to do this every time I want to use MATLAB in the cloud?” It does speed up, eventually it get’s a bit faster. I also have learned to plan a bit better - if I know I want to do some work, I get the launched, have coffee, and when I come back it’s ready to roll.</em></p>
<ol type="1">
<li><p>From this <a href="https://github.com/mathworks-ref-arch/matlab-on-aws">MATLAB GitHub page</a> click the release for 2022a under deployment steps.</p></li>
<li><p>This brings up a list of MATLAB on Amazon Web Services (Linux VM). Choose &amp; click the ‘launch stack’ link for US-West-2.<br>
<img src="images/Screen Shot 2022-05-30 at 11.42.47 AM.png" class="img-fluid"></p></li>
<li><p>This opens the ‘Quick create stack’ form based on the MATLAB template. That means that when you launch this stack it will come with MATLAB on the desktop. Fill out the form to create the AWS stack:</p>
<ol type="1">
<li><p>Give the stack a name like ‘matlab-test’</p></li>
<li><p>Keep the pre-filled options the same for now.</p></li>
<li><p>Remote Access:</p>
<ol type="1">
<li><p>“Allow Connections From:” You will need to know your IP address. You can google, <a href="https://duckduckgo.com/?q=what%27s+my+IP+address%3F&amp;ia=answer">“what’s my IP address?”</a></p></li>
<li><p>Enter your IP address followed by a /32 like this -&gt; [my.IP.address/32]</p></li>
<li><p>In the SSH Key Pair - the key pair you created above should show up in the drop down. If it doesn’t show up, see the troubleshooting tip.</p></li>
<li><p>Pick a remote password. This is not your AWS password or your GitHub password, this is the password that you will use to login with the microsoft remote desktop (username: ubuntu)</p></li>
</ol></li>
<li><p>Network configuration</p>
<ol type="1">
<li><p>There is one VPC option - choose that</p></li>
<li><p>For subnet - I pick the first one and it works. So pick the first option.</p></li>
</ol></li>
<li><p>Autoshutdown hasn’t worked for me so far, so for now I leave this set as never and delete the stack when I am finished.</p></li>
<li><p>Check the box that “I acknowledge that AWS CloudFormation might create IAM resources.”</p></li>
<li><p>Click ‘Create stack’</p></li>
<li><p>Wait…. [~ 10 minutes]</p></li>
</ol></li>
<li><p>You can check the status by clicking the refresh button on the right corner<br>
<img src="images/Screen Shot 2022-05-30 at 11.52.53 AM.png" class="img-fluid"></p></li>
</ol>
</section>
<section id="launch-the-aws-stack-with-microsoft-remote-desktop" class="level3">
<h3 class="anchored" data-anchor-id="launch-the-aws-stack-with-microsoft-remote-desktop">Launch the AWS Stack with Microsoft Remote Desktop</h3>
<ol type="1">
<li><p>Once the stack is created it will say ‘Create_complete’ on the left side.<br>
<img src="images/Screen Shot 2022-05-30 at 11.58.22 AM.png" class="img-fluid"></p></li>
<li><p>Click the outputs tab and copy the value text. It will start with ‘ec2-…’</p></li>
<li><p>Open Microsoft Remote Desktop</p>
<ol type="1">
<li><p>Click the + to add a PC</p></li>
<li><p>Paste the value text as the PC Name</p></li>
<li><p>Click on the grey box of your new computer in the remote desktop window</p></li>
<li><p>A login will pop up<br>
<img src="images/Screen Shot 2022-05-30 at 12.02.04 PM.png" class="img-fluid"></p>
<ol type="1">
<li><p>Username is ubuntu</p></li>
<li><p>Password is the password you set in 3.3.3 above in the section on ‘Creating AWS Stack’</p></li>
</ol></li>
<li><p>A certificate message will pop up - say ok</p></li>
<li><p>The desktop will launch</p></li>
</ol></li>
<li><p>Wait … [~2 mins]</p></li>
</ol>
</section>
<section id="open-matlab-on-remote-desktop" class="level3">
<h3 class="anchored" data-anchor-id="open-matlab-on-remote-desktop">Open MATLAB on Remote Desktop</h3>
<ol type="1">
<li>Click the MATLAB icon on the remote desktop<br>
<img src="images/Screen Shot 2022-05-30 at 12.07.18 PM.png" class="img-fluid"></li>
<li>Wait … [~4 mins]</li>
<li>Login with your MATLAB credentials</li>
<li>You are in!</li>
</ol>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<ol type="1">
<li><p>Search NASA Earthdata and find the S3 link you want to access</p></li>
<li><p>Set AWS Environment Variables - Go to the link above for the Access key, secret access key and token.</p></li>
<li><p>Copy and past those variables into the code below</p>
<p><code>setenv('AWS_ACCESS_KEY_ID', 'REPLACE WITH PODAAC ACCESS KEY');</code></p>
<p><code>setenv('AWS_SECRET_ACCESS_KEY', 'REPLACE WITH PODAAC SECRET KEY');</code></p>
<p><code>setenv('AWS_SESSION_TOKEN',  'REPLACE WITH PODAAC SESSION TOKEN');</code></p>
<p><code>setenv('AWS_DEFAULT_REGION', 'us-west-2');</code></p>
<p>NOTE: These expire ever 30 mins or so and this step needs to be done. We are searching for a better method.</p></li>
<li><p>In MATLAB on AWS only the HDF commands work</p>
<p><code>FILE_NAME = 's3://podaac-ops-cumulus-protected/MODIS_A-JPL-L2P-v2019.0/20100619062008-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0.nc';</code></p>
<p><code>file_id = H5F.open(FILE_NAME, 'H5F_ACC_RDONLY', 'H5P_DEFAULT');</code></p></li>
<li><p>This code works to read the file - Copy each section into the MATLAB command<br>
NOTE: We need a way to find all variables in a given netcdf file. I used the python code to find variables and then brought it here.</p>
<p><code>DATAFIELD_NAME='sea_surface_temperature_4um';</code></p>
<p><code>data_id = H5D.open(file_id, DATAFIELD_NAME);</code></p>
<p><code>data=H5D.read(data_id,'H5T_NATIVE_DOUBLE', 'H5S_ALL', 'H5S_ALL', 'H5P_DEFAULT');</code></p>
<p><code>% Read units.</code></p>
<p><code>ATTRIBUTE = 'units';</code></p>
<p><code>attr_id = H5A.open_name(data_id, ATTRIBUTE);</code></p>
<p><code>units = H5A.read(attr_id, 'H5ML_DEFAULT');</code></p>
<p><code>H5A.close(attr_id);</code></p>
<p><code>% Read long_name.</code></p>
<p><code>ATTRIBUTE = 'long_name';</code></p>
<p><code>attr_id = H5A.open_name (data_id, ATTRIBUTE);</code></p>
<p><code>long_name=H5A.read (attr_id, 'H5ML_DEFAULT');</code></p>
<p><code>H5A.close(attr_id);</code></p>
<p><code>% Read the fill value.</code></p>
<p><code>ATTRIBUTE = '_FillValue';</code></p>
<p><code>attr_id = H5A.open_name(data_id, ATTRIBUTE);</code></p>
<p><code>fillvalue=H5A.read(attr_id, 'H5T_NATIVE_DOUBLE');</code></p>
<p><code>H5A.close(attr_id);</code></p>
<p><code>% Read latitude data.</code></p>
<p><code>LAT_NAME='lat';</code></p>
<p><code>lat_id=H5D.open(file_id, LAT_NAME);</code></p>
<p><code>lat=H5D.read(lat_id, 'H5T_NATIVE_DOUBLE', 'H5S_ALL', 'H5S_ALL', 'H5P_DEFAULT');</code></p>
<p><code>% Read longitude data.</code></p>
<p><code>LON_NAME='lon';</code></p>
<p><code>lon_id=H5D.open(file_id, LON_NAME);</code></p>
<p><code>lon=H5D.read(lon_id, 'H5T_NATIVE_DOUBLE', 'H5S_ALL', 'H5S_ALL', 'H5P_DEFAULT');</code></p>
<p><code>% Close and release resources.</code></p>
<p><code>H5D.close(data_id);</code></p>
<p><code>H5D.close(lat_id);</code></p>
<p><code>H5D.close(lon_id);</code></p>
<p><code>H5F.close(file_id);</code></p>
<p><code>% Replace the fill value with NaN.</code></p>
<p><code>data(data==fillvalue) = NaN;</code></p></li>
<li><p>Create an image</p>
<p><code>contour(data);</code></p>
<p><img src="images/Screen Shot 2022-05-30 at 7.00.01 PM.png" class="img-fluid"></p></li>
</ol>
<section id="shutdown-your-aws-stack" class="level3">
<h3 class="anchored" data-anchor-id="shutdown-your-aws-stack">Shutdown your AWS Stack</h3>
<p>After each session you need to turn off the AWS Stack. If you forget this step and leave it running it is like keeping a computer on for the month. For the large instance it costs $0.5/day so it’s a few dollars a month.</p>
<ol type="1">
<li><p>Go back to AWS</p></li>
<li><p>Search for stack</p></li>
<li><p>Click on the name of your stack</p></li>
<li><p>Click ‘Delete’</p>
<p><img src="images/Screen Shot 2022-05-30 at 6.41.02 PM.png" class="img-fluid"></p></li>
<li><p>Confirm the delete</p>
<p><img src="images/Screen Shot 2022-05-30 at 3.06.40 PM.png" class="img-fluid"></p></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../examples/PODAAC/PODAAC_ECCO_SSH__Kerchunk.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">PO.DAAC ECCO SSH</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../in-development/CMR-STAC-Search.html" class="pagination-link">
        <span class="nav-page-text">CMR STAC in R</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">NASA Earthdata Cloud Cookbook, © NASA Openscapes Team (2023).</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>