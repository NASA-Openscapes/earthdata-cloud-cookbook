<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EarthData Cloud Cookbook - Getting Started with NASA’s CMR-STAC API in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../in-development/earthdata-python-r-handoff.html" rel="next">
<link href="../in-development/matlab.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.25/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../in-development/index.html">In Development</a></li><li class="breadcrumb-item"><a href="../in-development/CMR-STAC-Search.html">CMR STAC in R</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/nasa-openscapes.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">NASA Earthdata Cloud Cookbook</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://nasa-openscapes.github.io" rel="" title="NASA-Openscapes website" class="quarto-navigation-tool px-1" aria-label="NASA-Openscapes website"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook" rel="" title="Earthdata Cloud Cookbook repo" class="quarto-navigation-tool px-1" aria-label="Earthdata Cloud Cookbook repo"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../when-to-cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">When To Cloud</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../our-cookbook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Our Cookbook</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cheatsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cheatsheets &amp; Slides</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../environment-setup/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Environment Setup</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">How do I…</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">find data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/find-data/earthdata_search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">using Earthdata Search</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/find-data/programmatic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">using code</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../how-tos/access_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">access data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/if-im-in-the-cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">if I’m in the cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/if-im-local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">if I’m on my local machine</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/read_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">read data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/subset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">subset data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reformat data files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/reproject_regrid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reproject and regrid</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/aggregate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">aggregate data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/plot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">plot data</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../how-tos/use_apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">use APIs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/appeears_csv_cloud_access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AppEEARS Cloud CSV Access</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../how-tos/how_to_guide_parking_lot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">parking lot</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../tutorials/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/Earthdata-cloud-clinic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Earthdata Cloud Clinic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/How_to_Perform_Cross-DAAC_S3_Bucket_Access_Using_Python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multi-datasets 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/IS2_cloud_Landsat_integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multi-datasets 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/Sea_level_rise_notebook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sea Level Rise: <code>earthaccess</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/04_On-Prem_Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud &amp; Non-cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/earthaccess-demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>earthaccess</code> Python library</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/fair-workflow-geoweaver-demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pygeoweaver Workflow Demo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/Earthdata_Cloud__Data_Access_OPeNDAP_Example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OPeNDAP Access</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../workshops/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshops &amp; Hackathons</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../workshops/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshop Setup</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../in-development/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">In Development</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/NSIDC/ICESat2-CMR-OnPrem-vs-Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search &amp; Download NSIDC Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/NSIDC/ICESat2-CMR-AWS-S3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access NSIDC Cloud w/ CMR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/Transform-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Direct Access &amp; Harmony Workflow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/USGS_Landsat/Landsat_C2_Search_Access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search &amp; Access USGS Landsat Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/ORNL/Data_Access__Direct_S3_Access__ORNL_DAYMET.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Direct S3 Data Access: NetCDF - Daymet v4 Daily TMAX Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/cof-zarr-reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access ECCO data via Harmony &amp; the Zarr reformatter service</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external/zarr-eosdis-store.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zarr-eosdis-store example</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../examples/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example Workflows</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/GESDISC/GESDISC_MERRA2_tavg1_2d_flx_Nx__Kerchunk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GES DISC - MERRA2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/LPDAAC/LPDAAC_ECOSTRESS_LSTE__Kerchunk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LP DAAC ECOSTRESS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/PODAAC/PODAAC_ECCO_SSH__Kerchunk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PO.DAAC ECCO SSH</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../in-development/matlab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MATLAB &amp; AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../in-development/CMR-STAC-Search.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">CMR STAC in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../in-development/earthdata-python-r-handoff.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>earthdata</code>: Python-R Handoff</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contributing/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributing</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/onboarding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Onboarding Mentors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/quarto-website-tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto Tutorial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contributing/troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../appendix/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/authentication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Authentication</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#topics-covered-in-this-tutorial" id="toc-topics-covered-in-this-tutorial" class="nav-link active" data-scroll-target="#topics-covered-in-this-tutorial">Topics Covered in this Tutorial</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites:</a></li>
  <li><a href="#procedures" id="toc-procedures" class="nav-link" data-scroll-target="#procedures">Procedures:</a></li>
  <li><a href="#introduction-to-stac-and-the-cmr-stac-api" id="toc-introduction-to-stac-and-the-cmr-stac-api" class="nav-link" data-scroll-target="#introduction-to-stac-and-the-cmr-stac-api">1. Introduction to STAC and the CMR-STAC API</a>
  <ul class="collapse">
  <li><a href="#a.-what-is-stac" id="toc-a.-what-is-stac" class="nav-link" data-scroll-target="#a.-what-is-stac">1a. What is STAC?</a></li>
  <li><a href="#b.-what-is-the-cmr-stac-api" id="toc-b.-what-is-the-cmr-stac-api" class="nav-link" data-scroll-target="#b.-what-is-the-cmr-stac-api">1b. What is the CMR-STAC API?</a></li>
  </ul></li>
  <li><a href="#get-started-with-cmr-stac" id="toc-get-started-with-cmr-stac" class="nav-link" data-scroll-target="#get-started-with-cmr-stac">2. Get started with CMR-STAC</a>
  <ul class="collapse">
  <li><a href="#a.-cmr-stac-api" id="toc-a.-cmr-stac-api" class="nav-link" data-scroll-target="#a.-cmr-stac-api">2a. CMR-STAC API</a></li>
  <li><a href="#b.-stac-catalog" id="toc-b.-stac-catalog" class="nav-link" data-scroll-target="#b.-stac-catalog">2b. STAC Catalog</a></li>
  <li><a href="#c.-stac-collection" id="toc-c.-stac-collection" class="nav-link" data-scroll-target="#c.-stac-collection">2c. STAC Collection</a></li>
  <li><a href="#d.-stac-item" id="toc-d.-stac-item" class="nav-link" data-scroll-target="#d.-stac-item">2d. STAC Item</a></li>
  <li><a href="#e.-assets" id="toc-e.-assets" class="nav-link" data-scroll-target="#e.-assets">2e. Assets</a></li>
  </ul></li>
  <li><a href="#cmr-stac-search" id="toc-cmr-stac-search" class="nav-link" data-scroll-target="#cmr-stac-search">3. CMR-STAC Search</a>
  <ul class="collapse">
  <li><a href="#a.-define-search-parameters" id="toc-a.-define-search-parameters" class="nav-link" data-scroll-target="#a.-define-search-parameters">3a. Define Search Parameters</a></li>
  <li><a href="#b.-search-for-items" id="toc-b.-search-for-items" class="nav-link" data-scroll-target="#b.-search-for-items">3b. Search for Items</a>
  <ul class="collapse">
  <li><a href="#contact-information" id="toc-contact-information" class="nav-link" data-scroll-target="#contact-information">Contact Information</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/edit/main/in-development/CMR-STAC-Search.Rmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/blob/main/in-development/CMR-STAC-Search.Rmd" class="toc-action">View source</a></p><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Getting Started with NASA’s CMR-STAC API in R</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<hr>
<p><strong>This tutorial demonstrates how to interact with CMR-STAC in R.</strong></p>
<p>This tutorial will teach you how to navigate and explore NASA’s Common Metadata Repository (CMR) SpatioTemporal Asset Catalog (STAC) to learn about the datasets available through LP DAAC Cumulus cloud archive.</p>
<hr>
<section id="topics-covered-in-this-tutorial" class="level3">
<h3 class="anchored" data-anchor-id="topics-covered-in-this-tutorial">Topics Covered in this Tutorial</h3>
<ol type="1">
<li><strong>Introduction to STAC and the CMR-STAC API</strong><br>
1a. What is STAC?<br>
1b. What is the CMR-STAC API?<br>
</li>
<li><strong>Get started with CMR-STAC</strong><br>
2a. CMR-STAC API<br>
2b. STAC Catalog<br>
2c. STAC Collection<br>
2d. STAC Item<br>
2e. Assets<br>
</li>
<li><strong>CMR-STAC Search</strong><br>
3a. Define Search Parameters<br>
3b. Search for Items</li>
</ol>
<hr>
</section>
<section id="prerequisites" class="level3">
<h3 class="anchored" data-anchor-id="prerequisites">Prerequisites:</h3>
<ul>
<li><p>R and RStudio are required to execute this tutorial. Installation details can be found <a href="https://www.rstudio.com/products/rstudio/download/#download">here</a>.</p></li>
<li><p>This tutorial has been tested on Windows using R Version 4.1.0 and RStudio version 1.4.1717.</p></li>
</ul>
<hr>
</section>
<section id="procedures" class="level3">
<h3 class="anchored" data-anchor-id="procedures">Procedures:</h3>
<section id="getting-started" class="level4">
<h4 class="anchored" data-anchor-id="getting-started">Getting Started:</h4>
<ul>
<li><p><a href="ssh://git@git.earthdata.nasa.gov:7999/lpdur/hls_tutorial_r.git">Clone</a> or <a href="https://git.earthdata.nasa.gov/rest/api/latest/projects/LPDUR/repos/hls_tutorial_r/archive?format=zip">download</a> HLS_Tutorial_R Repository from the LP DAAC Data User Resources Repository.</p></li>
<li><p>When you open this Rmarkdown notebook in RStudio, you can click the little green “Play” button in each grey code chunk to execute the code. The result can be printed either in the R Console or inline in the RMarkdown notebook, depending on your RStudio preferences.</p></li>
</ul>
</section>
<section id="environment-setup" class="level4">
<h4 class="anchored" data-anchor-id="environment-setup">Environment Setup:</h4>
</section>
<section id="check-the-version-of-r-by-typing-version-into-the-console-and-rstudio-by-typing-rstudio.version-into-the-console-and-update-them-if-needed." class="level4">
<h4 class="anchored" data-anchor-id="check-the-version-of-r-by-typing-version-into-the-console-and-rstudio-by-typing-rstudio.version-into-the-console-and-update-them-if-needed.">1. Check the version of R by typing <code>version</code> into the console and RStudio by typing <code>RStudio.Version()</code> into the console and update them if needed.</h4>
<ul>
<li><p>Windows</p>
<ul>
<li><p>Install and load installr:</p>
<ul>
<li><code>install.packages("installr");library(installr)</code></li>
</ul></li>
<li><p>Copy/Update the existing packages to the new R installation:</p>
<ul>
<li><code>updateR()</code></li>
</ul></li>
<li><p>Open RStudio, go to Help &gt; Check for Updates to install newer version of RStudio (if available).</p></li>
</ul></li>
<li><p>Mac</p>
<ul>
<li>Go to <a href="https://cloud.r-project.org/bin/macosx/" class="uri">https://cloud.r-project.org/bin/macosx/</a>.</li>
<li>Download the latest release (R-4.0.1.pkg) and finish the installation.</li>
<li>Open RStudio, go to Help &gt; Check for Updates to install newer version of RStudio (if available).</li>
<li>To update packages, go to Tools &gt; Check for Package Updates. If updates are available, select All, and click Install Updates.</li>
</ul></li>
</ul>
</section>
<section id="required-packages" class="level4">
<h4 class="anchored" data-anchor-id="required-packages">2. Required packages</h4>
<ul>
<li><p><strong>Required packages:</strong></p>
<ul>
<li><code>httr</code></li>
<li><code>jsonlite</code></li>
<li><code>purrr</code></li>
<li><code>DT</code></li>
<li><code>dplyr</code></li>
<li><code>magrittr</code></li>
<li><code>xml2</code></li>
</ul></li>
</ul>
<p>Run the cell below to identify any missing packages to install, and then load all of the required packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'httr'</span>,<span class="st">'purrr'</span>,<span class="st">'jsonlite'</span>,<span class="st">'DT'</span>,<span class="st">'magrittr'</span>, <span class="st">'xml2'</span>, <span class="st">'dplyr'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>new.packages <span class="ot">&lt;-</span> packages[<span class="sc">!</span>(packages <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[,<span class="st">"Package"</span>])]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(new.packages)) <span class="fu">install.packages</span>(new.packages, <span class="at">repos=</span><span class="st">'http://cran.rstudio.com/'</span>) <span class="cf">else</span> <span class="fu">print</span>(<span class="st">'All required packages are installed.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "All required packages are installed."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">lapply</span>(packages, library, <span class="at">character.only =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="introduction-to-stac-and-the-cmr-stac-api" class="level1">
<h1>1. Introduction to STAC and the CMR-STAC API</h1>
<section id="a.-what-is-stac" class="level2">
<h2 class="anchored" data-anchor-id="a.-what-is-stac">1a. What is STAC?</h2>
<p>STAC is short for <a href="http://stacspec.org/">Spatiotemporal Asset Catalog</a>, a series of specifications that provide a common language for interpreting geospatial information in order to standardize indexing and discovery of <code>spatiotemporal assets</code> (files containing information about the Earth across space and time).</p>
<p>There are four specifications that work both independently and together:</p>
<ol type="1">
<li><a href="https://github.com/radiantearth/stac-spec/blob/master/catalog-spec/catalog-spec.md">STAC Catalog</a></li>
<li><a href="https://github.com/radiantearth/stac-spec/blob/master/collection-spec/collection-spec.md">STAC Collection</a></li>
<li><a href="https://github.com/radiantearth/stac-spec/blob/master/item-spec/item-spec.md">STAC Item</a><br>
</li>
<li><a href="https://github.com/radiantearth/stac-api-spec">STAC API</a> specification builds on top of the three core specifications mentioned above. All these specifications are intended to be used together, yet are designed in a way that each piece is small, self-contained, and reusable in other contexts.</li>
</ol>
<hr>
</section>
<section id="b.-what-is-the-cmr-stac-api" class="level2">
<h2 class="anchored" data-anchor-id="b.-what-is-the-cmr-stac-api">1b. What is the CMR-STAC API?</h2>
<p>The Common Metadata Repository (CMR) is a metadata system that catalogs Earth Science data and associated metadata records. NASA’s CMR-STAC Application Programming Interface (API) is a translation API for STAC users who want to access and search through CMR’s vast metadata holdings using STAC keywords.</p>
<hr>
</section>
</section>
<section id="get-started-with-cmr-stac" class="level1">
<h1>2. Get started with CMR-STAC</h1>
<section id="a.-cmr-stac-api" class="level2">
<h2 class="anchored" data-anchor-id="a.-cmr-stac-api">2a. CMR-STAC API</h2>
<p>The CMR-STAC API contains endpoints that enable the querying of STAC items.</p>
<p>Assign the CMR-STAC URL to a static variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>CMR_STAC_URL <span class="ot">&lt;-</span> <span class="st">'https://cmr.earthdata.nasa.gov/stac/'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Connect to the CMR-STAC landing page which contains all the available data providers and their STAC endpoint. In this tutorial, the <code>httr</code> package is used to navigate CMR-STAC API.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cmr_cat <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(CMR_STAC_URL) <span class="sc">%&gt;%</span>          <span class="co"># Request and retrieve the info from CMR-STAC URL</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>()         </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">'You are using'</span>,cmr_cat<span class="sc">$</span>title,<span class="st">'version'</span>,cmr_cat<span class="sc">$</span>stac_version,<span class="st">"."</span>, cmr_cat<span class="sc">$</span>description,<span class="at">sep=</span><span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>You are using NASA CMR STAC Proxy version 1.0.0 . This is the landing page for CMR-STAC. Each provider link contains a STAC endpoint.</code></pre>
</div>
</div>
<p>Here, <code>jsonlite</code> is used to change the format of the content returned from our request and the <code>DT</code> package is used to make the returned information more readable. The providers’ names and URL links are found in the <code>title</code> and ‘href’ fields respectively.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>cmr_cat_links <span class="ot">&lt;-</span> cmr_cat<span class="sc">$</span>links <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(cmr_cat_links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-01afa66ebbcefadf81d4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-01afa66ebbcefadf81d4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58"],["self","root","about","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child","child"],["https://cmr.earthdata.nasa.gov/stac/","https://cmr.earthdata.nasa.gov/stac/","https://wiki.earthdata.nasa.gov/display/ED/CMR+SpatioTemporal+Asset+Catalog+%28CMR-STAC%29+Documentation","https://cmr.earthdata.nasa.gov/stac/LARC_ASDC","https://cmr.earthdata.nasa.gov/stac/USGS_EROS","https://cmr.earthdata.nasa.gov/stac/ESA","https://cmr.earthdata.nasa.gov/stac/GHRC","https://cmr.earthdata.nasa.gov/stac/LAADS","https://cmr.earthdata.nasa.gov/stac/OBPG","https://cmr.earthdata.nasa.gov/stac/OB_DAAC","https://cmr.earthdata.nasa.gov/stac/ECHO","https://cmr.earthdata.nasa.gov/stac/ISRO","https://cmr.earthdata.nasa.gov/stac/LPCUMULUS","https://cmr.earthdata.nasa.gov/stac/EDF_DEV04","https://cmr.earthdata.nasa.gov/stac/GES_DISC","https://cmr.earthdata.nasa.gov/stac/ASF","https://cmr.earthdata.nasa.gov/stac/OMINRT","https://cmr.earthdata.nasa.gov/stac/EUMETSAT","https://cmr.earthdata.nasa.gov/stac/NCCS","https://cmr.earthdata.nasa.gov/stac/NSIDCV0","https://cmr.earthdata.nasa.gov/stac/PODAAC","https://cmr.earthdata.nasa.gov/stac/LARC","https://cmr.earthdata.nasa.gov/stac/USGS","https://cmr.earthdata.nasa.gov/stac/SCIOPS","https://cmr.earthdata.nasa.gov/stac/LANCEMODIS","https://cmr.earthdata.nasa.gov/stac/CDDIS","https://cmr.earthdata.nasa.gov/stac/JAXA","https://cmr.earthdata.nasa.gov/stac/AU_AADC","https://cmr.earthdata.nasa.gov/stac/ECHO10_OPS","https://cmr.earthdata.nasa.gov/stac/LPDAAC_ECS","https://cmr.earthdata.nasa.gov/stac/NSIDC_ECS","https://cmr.earthdata.nasa.gov/stac/ORNL_DAAC","https://cmr.earthdata.nasa.gov/stac/LM_FIRMS","https://cmr.earthdata.nasa.gov/stac/SEDAC","https://cmr.earthdata.nasa.gov/stac/LANCEAMSR2","https://cmr.earthdata.nasa.gov/stac/NOAA_NCEI","https://cmr.earthdata.nasa.gov/stac/USGS_LTA","https://cmr.earthdata.nasa.gov/stac/GESDISCCLD","https://cmr.earthdata.nasa.gov/stac/GHRSSTCWIC","https://cmr.earthdata.nasa.gov/stac/LARC_CLOUD","https://cmr.earthdata.nasa.gov/stac/ASIPS","https://cmr.earthdata.nasa.gov/stac/ESDIS","https://cmr.earthdata.nasa.gov/stac/POCLOUD","https://cmr.earthdata.nasa.gov/stac/NSIDC_CPRD","https://cmr.earthdata.nasa.gov/stac/ORNL_CLOUD","https://cmr.earthdata.nasa.gov/stac/FEDEO","https://cmr.earthdata.nasa.gov/stac/MLHUB","https://cmr.earthdata.nasa.gov/stac/XYZ_PROV","https://cmr.earthdata.nasa.gov/stac/GHRC_DAAC","https://cmr.earthdata.nasa.gov/stac/CSDA","https://cmr.earthdata.nasa.gov/stac/NRSCC","https://cmr.earthdata.nasa.gov/stac/CEOS_EXTRA","https://cmr.earthdata.nasa.gov/stac/AMD_KOPRI","https://cmr.earthdata.nasa.gov/stac/AMD_USAPDC","https://cmr.earthdata.nasa.gov/stac/MOPITT","https://cmr.earthdata.nasa.gov/stac/GHRC_CLOUD","https://cmr.earthdata.nasa.gov/stac/LPCLOUD","https://cmr.earthdata.nasa.gov/stac/CCMEO"],["NASA CMR-STAC Root Catalog","NASA CMR-STAC Root Catalog","CMR-STAC Documentation","LARC_ASDC","USGS_EROS","ESA","GHRC","LAADS","OBPG","OB_DAAC","ECHO","ISRO","LPCUMULUS","EDF_DEV04","GES_DISC","ASF","OMINRT","EUMETSAT","NCCS","NSIDCV0","PODAAC","LARC","USGS","SCIOPS","LANCEMODIS","CDDIS","JAXA","AU_AADC","ECHO10_OPS","LPDAAC_ECS","NSIDC_ECS","ORNL_DAAC","LM_FIRMS","SEDAC","LANCEAMSR2","NOAA_NCEI","USGS_LTA","GESDISCCLD","GHRSSTCWIC","LARC_CLOUD","ASIPS","ESDIS","POCLOUD","NSIDC_CPRD","ORNL_CLOUD","FEDEO","MLHUB","XYZ_PROV","GHRC_DAAC","CSDA","NRSCC","CEOS_EXTRA","AMD_KOPRI","AMD_USAPDC","MOPITT","GHRC_CLOUD","LPCLOUD","CCMEO"],["application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>rel<\/th>\n      <th>href<\/th>\n      <th>title<\/th>\n      <th>type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The data frame above shows all the data providers with their associated STAC catalog endpoints. You will notice above that the CMR-STAC API contains many different endpoints–not just from NASA LP DAAC, but also contains endpoints for other NASA ESDIS DAACs. Use the <code>title</code> field to identify the data provider you are interested in. The data product used in this tutorial is hosted in the LP DAAC Cumulus Cloud space (LPCLOUD).</p>
<p>Assign <code>LPCLOUD</code> to the <code>provider</code> variable and get this provider’s endpoint from the CMR catalog using the URL in <code>Link</code> field.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>provider <span class="ot">&lt;-</span> <span class="st">'LPCLOUD'</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>lpcloud_cat_link <span class="ot">&lt;-</span> cmr_cat_links[<span class="fu">which</span>(cmr_cat_links<span class="sc">$</span>title <span class="sc">==</span> provider), <span class="st">'href'</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>lpcloud_cat_link</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://cmr.earthdata.nasa.gov/stac/LPCLOUD"</code></pre>
</div>
</div>
<hr>
</section>
<section id="b.-stac-catalog" class="level2">
<h2 class="anchored" data-anchor-id="b.-stac-catalog">2b. STAC Catalog</h2>
<p>STAC Catalog Contains a JSON file of links that organize all the available collections. Below, connect to the LPCLOUD STAC Catalog endpoint using <code>httr</code> package and print the information contained in the Catalog.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>lpcloud_cat <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(lpcloud_cat_link) <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>()</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>lpcloud_cat <span class="ot">&lt;-</span> lpcloud_cat <span class="sc">%&gt;%</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>() </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(lpcloud_cat<span class="sc">$</span>links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-3301343173de64d99edb" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3301343173de64d99edb">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],["self","root","collections","search","search","conformance","service-desc","service-doc","child","child","child","child","child","child","child","child","child","child","next"],["https://cmr.earthdata.nasa.gov/stac/LPCLOUD","https://cmr.earthdata.nasa.gov/stac/","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/search","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/search","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/conformance","https://api.stacspec.org/v1.0.0-beta.1/openapi.yaml","https://api.stacspec.org/v1.0.0-beta.1/index.html","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ECO_L1B_ATT.v002","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ECO_L2_CLOUD.v002","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ECO_L1B_GEO.v002","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ECO_L2_LSTE.v002","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ECO_L1B_RAD.v002","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ECO_L2T_LSTE.v002","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/EMITL1BRAD.v001","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/EMITL2ARFL.v001","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/HLSL30.v2.0","https://cmr.earthdata.nasa.gov/stac/LPCLOUD?page=2"],["Provider catalog","Root catalog","Provider Collections","Provider Item Search","Provider Item Search","Conformance Classes","OpenAPI Doc","HTML documentation",null,null,null,null,null,null,null,null,null,null,null],["application/json","application/json","application/json","application/geo+json","application/geo+json","application/geo+json","application/vnd.oai.openapi;version=3.0","text/html","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json","application/json",null],[null,null,null,"GET","POST",null,null,null,null,null,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>rel<\/th>\n      <th>href<\/th>\n      <th>title<\/th>\n      <th>type<\/th>\n      <th>method<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>LPCLOUD STAC catalog includes URL links to the root, collections, search, and child STAC Catalogs. The data frame above also shows the available collections in the LPCLOUD catalog.</p>
<hr>
</section>
<section id="c.-stac-collection" class="level2">
<h2 class="anchored" data-anchor-id="c.-stac-collection">2c. STAC Collection</h2>
<p>STAC Collection is extension of STAC Catalog containing additional information that describe the STAC Items in that Collection.</p>
<p>Get the URL link to the STAC Collections.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>lpcloud_col_link <span class="ot">&lt;-</span> lpcloud_cat<span class="sc">$</span>links[<span class="fu">which</span>(lpcloud_cat<span class="sc">$</span>links<span class="sc">$</span>rel <span class="sc">==</span> <span class="st">'collections'</span>),<span class="st">'href'</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>lpcloud_col_link</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections"</code></pre>
</div>
</div>
<p>Next, get the content describing the collections within LPCLOUD Catalog. Important information such as data collection ID, title, description, and links to collection endpoints are provided here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>lpcloud_collection <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(lpcloud_col_link) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>() </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>lpcloud_collection <span class="ot">&lt;-</span> lpcloud_collection <span class="sc">%&gt;%</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Print the collections within LPCLOUD STAC catalog.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>lpcloud_collection_df <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(lpcloud_collection)<span class="sc">$</span>collections</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>lpcloud_collection_df<span class="sc">$</span>id</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ASTGTM.v003"       "ECO_L1B_ATT.v002"  "ECO_L2_CLOUD.v002"
 [4] "ECO_L1B_GEO.v002"  "ECO_L2_LSTE.v002"  "ECO_L1B_RAD.v002" 
 [7] "ECO_L2T_LSTE.v002" "EMITL1BRAD.v001"   "EMITL2ARFL.v001"  
[10] "HLSL30.v2.0"      </code></pre>
</div>
</div>
<p>In CMR, Collection ID is used to query by a specific product, so be sure to save the ID for a collection you are interested in. For instance, the Collection ID for ASTER Global Digital Elevation Model V003 is <code>ASTGTM.v003</code>. Note that the “id” shortname is in the format: productshortname.vVVV (where VVV = product version).</p>
<p>Here, get the URL link to the <code>ASTGTM.v003</code> STAC Collection. If you are interested in querying a different LPCLOUD product, swap out the shortname to assign to the <code>collection</code> variable below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>collection <span class="ot">&lt;-</span> <span class="st">'ASTGTM.v003'</span>    <span class="co"># USER INPUT</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>col_links <span class="ot">&lt;-</span> lpcloud_collection_df<span class="sc">$</span>links[<span class="fu">which</span>(lpcloud_collection_df<span class="sc">$</span>id <span class="sc">==</span> collection)] <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>astgtm_URL <span class="ot">&lt;-</span> col_links[<span class="fu">which</span>(col_links<span class="sc">$</span>rel <span class="sc">==</span> <span class="st">'self'</span>), <span class="st">'href'</span>]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>astgtm_URL</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003"</code></pre>
</div>
</div>
<p>The STAC Collection metadata for any collection contains metadata and information that is applicable to every STAC Item and asset(s) that it contains. Get the content of the ASTGTM.v003 collection URL and print the collection description.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>astgtm_collection <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(astgtm_URL) <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>()</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>astgtm_collection <span class="ot">&lt;-</span> astgtm_collection <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>()</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(astgtm_collection<span class="sc">$</span>description)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre style="max-height: 200px;"><code>The ASTER Global Digital Elevation Model (GDEM) Version 3 (ASTGTM) provides a global digital elevation model (DEM) of land areas on Earth at a spatial resolution of 1 arc second (approximately 30 meter horizontal posting at the equator).

The development of the ASTER GDEM data products is a collaborative effort between National Aeronautics and Space Administration (NASA) and Japan’s Ministry of Economy, Trade, and Industry (METI). The ASTER GDEM data products are created by the Sensor Information Laboratory Corporation (SILC) in Tokyo. 

The ASTER GDEM Version 3 data product was created from the automated processing of the entire ASTER Level 1A (https://doi.org/10.5067/ASTER/AST_L1A.003) archive of scenes acquired between March 1, 2000, and November 30, 2013. Stereo correlation was used to produce over one million individual scene based ASTER DEMs, to which cloud masking was applied. All cloud screened DEMs and non-cloud screened DEMs were stacked. Residual bad values and outliers were removed. In areas with limited data stacking, several existing reference DEMs were used to supplement ASTER data to correct for residual anomalies. Selected data were averaged to create final pixel values before partitioning the data into 1 degree latitude by 1 degree longitude tiles with a one pixel overlap. To correct elevation values of water body surfaces, the ASTER Global Water Bodies Database (ASTWBD) (https://doi.org/10.5067/ASTER/ASTWBD.001) Version 1 data product was also generated. 

The geographic coverage of the ASTER GDEM extends from 83° North to 83° South. Each tile is distributed in GeoTIFF format and projected on the 1984 World Geodetic System (WGS84)/1996 Earth Gravitational Model (EGM96) geoid. Each of the 22,912 tiles in the collection contain at least 0.01% land area. 

Provided in the ASTER GDEM product are layers for DEM and number of scenes (NUM). The NUM layer indicates the number of scenes that were processed for each pixel and the source of the data.

While the ASTER GDEM Version 3 data products offer substantial improvements over Version 2, users are advised that the products still may contain anomalies and artifacts that will reduce its usability for certain applications. 

Improvements/Changes from Previous Versions 
• Expansion of acquisition coverage to increase the amount of cloud-free input scenes from about 1.5 million in Version 2 to about 1.88 million scenes in Version 3.
• Separation of rivers from lakes in the water body processing. 
• Minimum water body detection size decreased from 1 km2 to 0.2 km2. </code></pre>
</div>
</div>
<p>We can also get the spatial and temporal extent information. Below, we can see this collection has a global spatial extent. ASTER GDEM is a single, static dataset that incorporates observation from March 2000 to November 2013.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>astgtm_collection<span class="sc">$</span>extent <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{"spatial":{"bbox":[[-180,-83,180,82]]},"temporal":{"interval":[["2000-03-01T00:00:00.000Z","2013-11-30T23:59:59.999Z"]]}} </code></pre>
</div>
</div>
<p>STAC collection also includes useful links. You can visit all the items within this collection using the <code>Items</code> URL.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(astgtm_collection<span class="sc">$</span>links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-a0df08d834f33a67e794" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a0df08d834f33a67e794">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7"],["self","root","parent","items","about","via","child"],["https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003","https://cmr.earthdata.nasa.gov/stac","https://cmr.earthdata.nasa.gov/stac/LPCLOUD","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003/items","https://cmr.earthdata.nasa.gov/search/concepts/C1711961296-LPCLOUD.html","https://cmr.earthdata.nasa.gov/search/concepts/C1711961296-LPCLOUD.json","https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003/2000"],["Info about this collection","Root catalog","Parent catalog","Granules in this collection","HTML metadata for collection","CMR JSON metadata for collection","2000 catalog"],["application/json","application/json","application/json","application/json","text/html","application/json","application/json"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>rel<\/th>\n      <th>href<\/th>\n      <th>title<\/th>\n      <th>type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Get the URL to the ASTGTM.v003 Items.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>items_url <span class="ot">&lt;-</span> astgtm_collection<span class="sc">$</span>links [<span class="fu">which</span>(astgtm_collection<span class="sc">$</span>links<span class="sc">$</span>rel <span class="sc">==</span> <span class="st">'items'</span>), <span class="st">'href'</span>]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>items_url</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003/items"</code></pre>
</div>
</div>
<hr>
</section>
<section id="d.-stac-item" class="level2">
<h2 class="anchored" data-anchor-id="d.-stac-item">2d. STAC Item</h2>
<p>STAC Item represents data and metadata assets that are spatiotemporally coincident. Below, query the STAC Items within the <code>ASTGTM.v003</code> STAC Collection and print the first item in the collection.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>astgtm_items <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(items_url) <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>(<span class="at">as =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>()</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>F1 <span class="ot">&lt;-</span> astgtm_items<span class="sc">$</span>features[<span class="dv">1</span>,] <span class="sc">%&gt;%</span> </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>F1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre style="max-height: 300px;"><code>[
  {
    "type": "Feature",
    "id": "ASTGTMV003_N03E008",
    "stac_version": "1.0.0",
    "stac_extensions": [],
    "collection": "ASTGTM.v003",
    "geometry": {
      "type": "Polygon",
      "coordinates": [
        [
          [7.9999, 2.9999],
          [9.0001, 2.9999],
          [9.0001, 4.0001],
          [7.9999, 4.0001],
          [7.9999, 2.9999]
        ]
      ]
    },
    "bbox": [7.9999, 2.9999, 9.0001, 4.0001],
    "links": [
      {
        "rel": "self",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003/items/ASTGTMV003_N03E008"
      },
      {
        "rel": "parent",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003"
      },
      {
        "rel": "collection",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003"
      },
      {
        "rel": "root",
        "href": "https://cmr.earthdata.nasa.gov/stac/"
      },
      {
        "rel": "provider",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD"
      },
      {
        "rel": "via",
        "href": "https://cmr.earthdata.nasa.gov/search/concepts/G1716133754-LPCLOUD.json"
      },
      {
        "rel": "via",
        "href": "https://cmr.earthdata.nasa.gov/search/concepts/G1716133754-LPCLOUD.umm_json"
      }
    ],
    "properties": {
      "datetime": "2000-03-01T00:00:00.000Z",
      "start_datetime": "2000-03-01T00:00:00.000Z",
      "end_datetime": "2013-11-30T23:59:59.000Z"
    },
    "assets": {
      "003/ASTGTMV003_N03E008_dem": {
        "href": "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N03E008_dem.tif",
        "title": "Download ASTGTMV003_N03E008_dem.tif"
      },
      "003/ASTGTMV003_N03E008_num": {
        "href": "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N03E008_num.tif",
        "title": "Download ASTGTMV003_N03E008_num.tif"
      },
      "browse": {
        "href": "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ASTGTM.003/ASTGTMV003_N03E008.1.jpg",
        "type": "image/jpeg",
        "title": "Download ASTGTMV003_N03E008.1.jpg"
      },
      "metadata": {
        "href": "https://cmr.earthdata.nasa.gov/search/concepts/G1716133754-LPCLOUD.xml",
        "type": "application/xml"
      },
      "003/ASTGTMV003_N02E022_dem": {},
      "003/ASTGTMV003_N02E022_num": {},
      "003/ASTGTMV003_N00W065_dem": {},
      "003/ASTGTMV003_N00W065_num": {},
      "003/ASTGTMV003_N01E009_dem": {},
      "003/ASTGTMV003_N01E009_num": {},
      "003/ASTGTMV003_N02E009_dem": {},
      "003/ASTGTMV003_N02E009_num": {},
      "003/ASTGTMV003_N03E021_dem": {},
      "003/ASTGTMV003_N03E021_num": {},
      "003/ASTGTMV003_N01E021_dem": {},
      "003/ASTGTMV003_N01E021_num": {},
      "003/ASTGTMV003_N01E042_dem": {},
      "003/ASTGTMV003_N01E042_num": {},
      "003/ASTGTMV003_N01W069_dem": {},
      "003/ASTGTMV003_N01W069_num": {},
      "003/ASTGTMV003_N01W080_dem": {},
      "003/ASTGTMV003_N01W080_num": {}
    }
  }
] </code></pre>
</div>
</div>
<p>Notice that the number of items matching our request is far more than what is returned.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(astgtm_items<span class="sc">$</span>context<span class="sc">$</span>matched, <span class="st">'items matched your request but'</span>, astgtm_items<span class="sc">$</span>context<span class="sc">$</span>returned, <span class="st">'items are returned.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>22912 items matched your request but 10 items are returned.</code></pre>
</div>
</div>
<p>This is because the return is paginated. The STAC API, by default, returns the first 10 records. To explore more items, you can add <code>?page=n</code> (in which <code>n</code> is the page number (i.e.&nbsp;?page=2)) to the URL link and submit another request. Below, request a query to return records on the second page.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>page_2_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(items_url, <span class="st">'?page=2'</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>astgtm_page2_items <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(page_2_url) <span class="sc">%&gt;%</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>(<span class="at">as =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>()</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>astgtm_page2_items<span class="sc">$</span>features[<span class="dv">1</span>,] <span class="sc">%&gt;%</span> </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(<span class="at">auto_unbox =</span> <span class="cn">TRUE</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre style="max-height: 300px;"><code>[
  {
    "type": "Feature",
    "id": "ASTGTMV003_N03E042",
    "stac_version": "1.0.0",
    "stac_extensions": [],
    "collection": "ASTGTM.v003",
    "geometry": {
      "type": "Polygon",
      "coordinates": [
        [
          [41.9999, 2.9999],
          [43.0001, 2.9999],
          [43.0001, 4.0001],
          [41.9999, 4.0001],
          [41.9999, 2.9999]
        ]
      ]
    },
    "bbox": [41.9999, 2.9999, 43.0001, 4.0001],
    "links": [
      {
        "rel": "self",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003/items/ASTGTMV003_N03E042"
      },
      {
        "rel": "parent",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003"
      },
      {
        "rel": "collection",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/collections/ASTGTM.v003"
      },
      {
        "rel": "root",
        "href": "https://cmr.earthdata.nasa.gov/stac/"
      },
      {
        "rel": "provider",
        "href": "https://cmr.earthdata.nasa.gov/stac/LPCLOUD"
      },
      {
        "rel": "via",
        "href": "https://cmr.earthdata.nasa.gov/search/concepts/G1726373735-LPCLOUD.json"
      },
      {
        "rel": "via",
        "href": "https://cmr.earthdata.nasa.gov/search/concepts/G1726373735-LPCLOUD.umm_json"
      }
    ],
    "properties": {
      "datetime": "2000-03-01T00:00:00.000Z",
      "start_datetime": "2000-03-01T00:00:00.000Z",
      "end_datetime": "2013-11-30T23:59:59.000Z"
    },
    "assets": {
      "003/ASTGTMV003_N03E042_dem": {
        "href": "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N03E042_dem.tif",
        "title": "Download ASTGTMV003_N03E042_dem.tif"
      },
      "003/ASTGTMV003_N03E042_num": {
        "href": "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N03E042_num.tif",
        "title": "Download ASTGTMV003_N03E042_num.tif"
      },
      "browse": {
        "href": "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ASTGTM.003/ASTGTMV003_N03E042.1.jpg",
        "type": "image/jpeg",
        "title": "Download ASTGTMV003_N03E042.1.jpg"
      },
      "metadata": {
        "href": "https://cmr.earthdata.nasa.gov/search/concepts/G1726373735-LPCLOUD.xml",
        "type": "application/xml"
      },
      "003/ASTGTMV003_N00W061_dem": {},
      "003/ASTGTMV003_N00W061_num": {},
      "003/ASTGTMV003_N02W066_dem": {},
      "003/ASTGTMV003_N02W066_num": {},
      "003/ASTGTMV003_N02W069_dem": {},
      "003/ASTGTMV003_N02W069_num": {},
      "003/ASTGTMV003_N01E022_dem": {},
      "003/ASTGTMV003_N01E022_num": {},
      "003/ASTGTMV003_N01E026_dem": {},
      "003/ASTGTMV003_N01E026_num": {},
      "003/ASTGTMV003_N02W064_dem": {},
      "003/ASTGTMV003_N02W064_num": {},
      "003/ASTGTMV003_N01W064_dem": {},
      "003/ASTGTMV003_N01W064_num": {},
      "003/ASTGTMV003_N01E027_dem": {},
      "003/ASTGTMV003_N01E027_num": {},
      "003/ASTGTMV003_N00E006_dem": {},
      "003/ASTGTMV003_N00E006_num": {}
    }
  }
] </code></pre>
</div>
</div>
<hr>
</section>
<section id="e.-assets" class="level2">
<h2 class="anchored" data-anchor-id="e.-assets">2e. Assets</h2>
<p>The STAC Item ID (CMR Granule ID) is the unique identifier assigned to each granule within a data collection. Within each STAC Item are assets, which include the downloadable and streamable URL to data files along with other asset objects. Below, the first Granule ID is used to get the downloadable data file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>items_df <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(F1) </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>item <span class="ot">&lt;-</span> items_df<span class="sc">$</span>assets            <span class="co"># Get the assets for the first Item</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>assets <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_df</span>(items_df<span class="sc">$</span>assets, data.frame, <span class="at">.id =</span> <span class="st">'asset'</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>assets</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre style="max-height: 200px;"><code>                        asset
1  003/ASTGTMV003_N03E008_dem
2  003/ASTGTMV003_N03E008_num
3                      browse
4                    metadata
5  003/ASTGTMV003_N02E022_dem
6  003/ASTGTMV003_N02E022_num
7  003/ASTGTMV003_N00W065_dem
8  003/ASTGTMV003_N00W065_num
9  003/ASTGTMV003_N01E009_dem
10 003/ASTGTMV003_N01E009_num
11 003/ASTGTMV003_N02E009_dem
12 003/ASTGTMV003_N02E009_num
13 003/ASTGTMV003_N03E021_dem
14 003/ASTGTMV003_N03E021_num
15 003/ASTGTMV003_N01E021_dem
16 003/ASTGTMV003_N01E021_num
17 003/ASTGTMV003_N01E042_dem
18 003/ASTGTMV003_N01E042_num
19 003/ASTGTMV003_N01W069_dem
20 003/ASTGTMV003_N01W069_num
21 003/ASTGTMV003_N01W080_dem
22 003/ASTGTMV003_N01W080_num
                                                                                                  href
1  https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N03E008_dem.tif
2  https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N03E008_num.tif
3       https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ASTGTM.003/ASTGTMV003_N03E008.1.jpg
4                               https://cmr.earthdata.nasa.gov/search/concepts/G1716133754-LPCLOUD.xml
5                                                                                                 &lt;NA&gt;
6                                                                                                 &lt;NA&gt;
7                                                                                                 &lt;NA&gt;
8                                                                                                 &lt;NA&gt;
9                                                                                                 &lt;NA&gt;
10                                                                                                &lt;NA&gt;
11                                                                                                &lt;NA&gt;
12                                                                                                &lt;NA&gt;
13                                                                                                &lt;NA&gt;
14                                                                                                &lt;NA&gt;
15                                                                                                &lt;NA&gt;
16                                                                                                &lt;NA&gt;
17                                                                                                &lt;NA&gt;
18                                                                                                &lt;NA&gt;
19                                                                                                &lt;NA&gt;
20                                                                                                &lt;NA&gt;
21                                                                                                &lt;NA&gt;
22                                                                                                &lt;NA&gt;
                                 title            type
1  Download ASTGTMV003_N03E008_dem.tif            &lt;NA&gt;
2  Download ASTGTMV003_N03E008_num.tif            &lt;NA&gt;
3    Download ASTGTMV003_N03E008.1.jpg      image/jpeg
4                                 &lt;NA&gt; application/xml
5                                 &lt;NA&gt;            &lt;NA&gt;
6                                 &lt;NA&gt;            &lt;NA&gt;
7                                 &lt;NA&gt;            &lt;NA&gt;
8                                 &lt;NA&gt;            &lt;NA&gt;
9                                 &lt;NA&gt;            &lt;NA&gt;
10                                &lt;NA&gt;            &lt;NA&gt;
11                                &lt;NA&gt;            &lt;NA&gt;
12                                &lt;NA&gt;            &lt;NA&gt;
13                                &lt;NA&gt;            &lt;NA&gt;
14                                &lt;NA&gt;            &lt;NA&gt;
15                                &lt;NA&gt;            &lt;NA&gt;
16                                &lt;NA&gt;            &lt;NA&gt;
17                                &lt;NA&gt;            &lt;NA&gt;
18                                &lt;NA&gt;            &lt;NA&gt;
19                                &lt;NA&gt;            &lt;NA&gt;
20                                &lt;NA&gt;            &lt;NA&gt;
21                                &lt;NA&gt;            &lt;NA&gt;
22                                &lt;NA&gt;            &lt;NA&gt;</code></pre>
</div>
</div>
<p>The links found in the <code>href</code> field can be used to download each specific asset.</p>
<hr>
</section>
</section>
<section id="cmr-stac-search" class="level1">
<h1>3. CMR-STAC Search</h1>
<p>In the previous section, we learned how to navigate and explore the STAC Catalog. In this section, we are utilizing CMR-STAC Search endpoint to query items and associated assets faster and in a more precise way. With the CMR-STAC Search endpoint, we can specify the collection(s), the area of interest, the time period of interest, as well as other parameters to identify the STAC Items that meet our criteria. Visit <a href="https://github.com/radiantearth/stac-api-spec/tree/master/item-search#query-parameters-and-fields">here</a> for more information on search query parameters.</p>
<p>Use the following code to find the link from within the LPCLOUD catalog.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>lpcloud_search_URL <span class="ot">&lt;-</span> lpcloud_cat<span class="sc">$</span>links[<span class="fu">which</span>(lpcloud_cat<span class="sc">$</span>links<span class="sc">$</span>rel <span class="sc">==</span> <span class="st">'search'</span>),<span class="st">'href'</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>lpcloud_search_URL</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/search"
[2] "https://cmr.earthdata.nasa.gov/stac/LPCLOUD/search"</code></pre>
</div>
</div>
<hr>
<section id="a.-define-search-parameters" class="level2">
<h2 class="anchored" data-anchor-id="a.-define-search-parameters">3a. Define Search Parameters</h2>
<p>Next, define the search parameters. - Query by collection: Collection IDs should be defined as a list. - Spatial Querying via Bounding Box: A bounding box including the coordinates of LL (lower left) and UR (upper right) respectively. - Temporal Querying: Time period of interest should be specified as <code>YYYY-MM-DDTHH:MM:SSZ/YYYY-MM-DDTHH:MM:SSZ</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>collections <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">'ASTGTM.v003'</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>datetime <span class="ot">&lt;-</span> <span class="st">'2000-01-01T00:00:00Z/2001-01-31T23:59:59Z'</span>   <span class="co">#YYYY-MM-DDTHH:MM:SSZ/YYYY-MM-DDTHH:MM:SSZ</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>bbox <span class="ot">&lt;-</span> <span class="st">'-122.0622682571411,39.897234301806,-122.04918980598451,39.91309383703065'</span> <span class="co"># LL and UR Coordinates</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create search body object from our search parameters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>body <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">limit=</span><span class="dv">100</span>,</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">datetime=</span>datetime,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">bbox=</span> bbox,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">collections=</span> collections)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice the <code>limit</code> parameter in the <code>body</code> object. This parameter allows us to adjust the number of records returned during a request (default = 10).</p>
<hr>
</section>
<section id="b.-search-for-items" class="level2">
<h2 class="anchored" data-anchor-id="b.-search-for-items">3b. Search for Items</h2>
<p>Next, submit a query to STAC Search endpoint using a POST request.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>search_req <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">POST</span>(lpcloud_search_URL[<span class="dv">1</span>], <span class="at">body =</span> body, <span class="at">encode =</span> <span class="st">"json"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  httr<span class="sc">::</span><span class="fu">content</span>(<span class="at">as =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>()</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(search_req)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "type"           "stac_version"   "numberMatched"  "numberReturned"
[5] "features"       "links"          "context"       </code></pre>
</div>
</div>
<p>Let’s see how many STAC Items, or granules, intersect with our search parameters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The number of STAC Items matched your query is "</span>, search_req<span class="sc">$</span>numberMatched, <span class="st">'and '</span>,  search_req<span class="sc">$</span>numberReturned, <span class="st">'Items are returned.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The number of STAC Items matched your query is  1 and  1 Items are returned.</code></pre>
</div>
</div>
<p>Next, create a data frame with the returned information, including granule ID, datetime properties, and the downloadable URL links to the assets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>granule_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(row <span class="cf">in</span> <span class="fu">row.names</span>(search_req<span class="sc">$</span>features)){</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> search_req<span class="sc">$</span>features[row,]</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (b <span class="cf">in</span> f<span class="sc">$</span>assets){</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Collection =</span> f<span class="sc">$</span>collection,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">Granule_ID =</span> f<span class="sc">$</span>id,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">Datetime =</span> f<span class="sc">$</span>properties<span class="sc">$</span>datetime,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">Asset_Link =</span> b<span class="sc">$</span>href, <span class="at">stringsAsFactors=</span><span class="cn">FALSE</span>)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>    granule_list[[n]] <span class="ot">&lt;-</span> df</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> n <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>search_df <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, granule_list)</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(search_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-6e68cdeae74be2b16765" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6e68cdeae74be2b16765">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["ASTGTM.v003","ASTGTM.v003","ASTGTM.v003","ASTGTM.v003"],["ASTGTMV003_N39W123","ASTGTMV003_N39W123","ASTGTMV003_N39W123","ASTGTMV003_N39W123"],["2000-03-01T00:00:00.000Z","2000-03-01T00:00:00.000Z","2000-03-01T00:00:00.000Z","2000-03-01T00:00:00.000Z"],["https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N39W123_dem.tif","https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ASTGTM.003/ASTGTMV003_N39W123_num.tif","https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ASTGTM.003/ASTGTMV003_N39W123.1.jpg","https://cmr.earthdata.nasa.gov/search/concepts/G1726750594-LPCLOUD.xml"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Collection<\/th>\n      <th>Granule_ID<\/th>\n      <th>Datetime<\/th>\n      <th>Asset_Link<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The CMR-STAC Search endpoint allows user to quickly search for STAC Items that meet their specific spatial, temporal, and data product requirements. Now that you learned how to navigate and explore the CMR-STAC catalog, check out the <a href="https://git.earthdata.nasa.gov/projects/LPDUR/repos/hls_tutorial_r/raw/HLS_Tutorial.html?at=refs%2Fheads%2Fmain"><code>HLS_tutorial</code></a> to learn how to interact with HLS data specifically.</p>
<hr>
<section id="contact-information" class="level3">
<h3 class="anchored" data-anchor-id="contact-information">Contact Information</h3>
<p><strong>Material written by Mahsa Jami<sup>1</sup> and Aaron Friesz<sup>1</sup></strong><br>
Contact: <a href="mailto:LPDAAC@usgs.gov" class="email">LPDAAC@usgs.gov</a><br>
Voice: +1-866-573-3222<br>
Organization: Land Processes Distributed Active Archive Center (LP DAAC)<br>
Website: <a href="https://lpdaac.usgs.gov/" class="uri">https://lpdaac.usgs.gov/</a>&nbsp;<br>
Date last modified: 09-13-2021</p>
<p><sup>1</sup> KBR, Inc., contractor to the U.S. Geological Survey, Earth Resources Observation and Science (EROS) Center, Sioux Falls, South Dakota, USA. Work performed under USGS contract G0121D0001 for LP DAAC<sup>2</sup>.</p>
<p><sup>2</sup> LP DAAC Work performed under NASA contract NNG14HH33I.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../in-development/matlab.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">MATLAB &amp; AWS</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../in-development/earthdata-python-r-handoff.html" class="pagination-link">
        <span class="nav-page-text"><code>earthdata</code>: Python-R Handoff</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">NASA Earthdata Cloud Cookbook, © NASA Openscapes Team (2023).</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>