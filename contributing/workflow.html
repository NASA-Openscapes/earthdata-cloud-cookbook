<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Workflow</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../site_libs/quarto-nav/headroom.min.js"></script>
  <meta name="quarto:offset" content="../">
  <script src="../site_libs/quarto-search/autocomplete.min.js"></script>
  <script src="../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../site_libs/quarto-search/quarto-search.js"></script>
  <script src="../site_libs/quarto-html/quarto.js"></script>
  <script src="../site_libs/quarto-html/popper.min.js"></script>
  <script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../site_libs/quarto-html/clipboard.min.js"></script>
  <script src="../site_libs/quarto-html/anchor.min.js"></script>
  <script src="../site_libs/quarto-html/quarto-html.js"></script>
  <link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link class="quarto-color-scheme light" href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <link class="quarto-color-scheme dark" disabled="true" href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet">
  <script src="../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link class="quarto-color-scheme light" href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link class="quarto-color-scheme dark" disabled="true" href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
<div id="quarto-search-results"></div>
<header id="quarto-header" class="headroom fixed-top">
<nav class="quarto-secondary-nav py-2 d-lg-none d-md-block " data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <div class="container-fluid d-flex justify-content-between">
    <h1 class="quarto-secondary-nav-title mb-0 fs-3 d-inline">Workflow</h1>
    <button type="button" class="quarto-btn-toggle btn d-lg-none py-0 px-1 d-inline-block border-0 ">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</nav>
</header>
 <!-- /navbar/sidebar -->
<div class="container-fluid quarto-container d-flex flex-column page-layout-article">
<div class="row flex-fill" id="quarto-content">
  <div id="quarto-sidebar" class="col col-12 col-lg-3 d-lg-flex px-0 pt-0 sidebar collapse sidebar-navigation">
    <nav class="me-lg-auto py-2 docked  overflow-scroll">
  <div class="px-3 pt-lg-2 mt-1 text-left sidebar-header sidebar-header-stacked">
    <img src="../nasa-openscapes.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">
      EarthData Cloud Cookbook
      </a>
        <div class="sidebar-tools-main">
    <a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle " onclick="window.quartoToggleColorScheme(); return false;"><i class="bi"></i></a>
</div>
    </div>
  </div>
    <div class="d-flex px-3 mt-2 flex-shrink-0 align-items-center">
      <div class="sidebar-search">
      <form class="d-flex mb-0">
  <input id="quarto-search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>
      </div>
        <div class="sidebar-tools-collapse">
    <a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle " onclick="window.quartoToggleColorScheme(); return false;"><i class="bi"></i></a>
</div>
    </div>
  <div class="sidebar-menu-container"> 
  <ul class="list-unstyled mt-3 px-3">
      <li class="sidebar-item">
  <a href="../index.html" class="">Welcome</a>
</li>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../get-started/index.html" class="">Getting Started</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#gettingstarted-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="gettingstarted-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../get-started/how-to-use.html" class="">How to use this book</a>
</li>
          <li class="sidebar-item">
  <a href="../get-started/earthdata-login.html" class="">EarthData Login</a>
</li>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../get-started/authentication.html" class="">Authentication</a>
            </div>
            <a class="text-start collapsed " data-bs-toggle="collapse" data-bs-target="#authentication-collapse" aria-expanded="false">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  " id="authentication-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../get-started/lpdaac-netrc.html" class="">LP DAAC Authentication Example</a>
</li>
          <li class="sidebar-item">
  <a href="../get-started/podaac-ecco-netrc.html" class="">PO DAAC Authentication Example</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
          <li class="sidebar-item">
  <a href="../get-started/api-primer.html" class="">API Primer</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../discovery/index.html" class="">NASA Cloud Data Discovery</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#nasaclouddatadiscovery-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="nasaclouddatadiscovery-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../discovery/Navigate_CMR_STAC.html" class="">CMR and CMR-STAC API</a>
</li>
          <li class="sidebar-item">
  <a href="../discovery/earthdata-search-ui.html" class="">Earthdata Search UI</a>
</li>
          <li class="sidebar-item">
  <a href="../discovery/cmr-virtual-directories.html" class="">CMR Virtual Directories</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../access/index.html" class="">NASA Cloud Data Access</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#nasaclouddataaccess-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="nasaclouddataaccess-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../access/data-access-example.html" class="">Data access demo</a>
</li>
          <li class="sidebar-item">
  <a href="../access/earthdata-search.html" class="">Earthdata Search</a>
</li>
          <li class="sidebar-item">
  <a href="../access/opendap-cloud.html" class="">OPeNDAP in the Cloud</a>
</li>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../access/direct-in-region.html" class="">Direct in-region</a>
            </div>
            <a class="text-start collapsed " data-bs-toggle="collapse" data-bs-target="#directin-region-collapse" aria-expanded="false">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  " id="directin-region-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../access/podaac-ecco-data_access-cloud_direct_access_s3.html" class="">Direct access to ECCO data in S3 (from *us-west-2*)</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
          <li class="sidebar-item">
  <a href="../access/cof-via-harmony.html" class="">COF via Earthdata Harmony</a>
</li>
          <li class="sidebar-item">
  <a href="../access/download-to-local.html" class="">Download to local</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../transformations/index.html" class="">NASA Cloud Data Transformations</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#nasaclouddatatransformations-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="nasaclouddatatransformations-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../transformations/harmony-api.html" class="">Harmony API</a>
</li>
          <li class="sidebar-item">
  <a href="../transformations/HarmonyPy_intro_tutorial.html" class="">HarmonyPy Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="../transformations/netcdf-to-zarr.html" class="">netCDF to Zarr</a>
</li>
          <li class="sidebar-item">
  <a href="../transformations/L2-subsetter.html" class="">L2 Subsetter</a>
</li>
          <li class="sidebar-item">
  <a href="../transformations/earthdata-search.html" class="">Earthdata Search UI</a>
</li>
          <li class="sidebar-item">
  <a href="../transformations/opendap-cloud.html" class="">OPeNDAP in the Cloud</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../examples/index.html" class="">End-to-end Examples</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#end-to-endexamples-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="end-to-endexamples-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../examples/python-example.html" class="">Python example with Quarto</a>
</li>
          <li class="sidebar-item">
  <a href="../examples/r-example.html" class="">RMarkdown example .Rmd</a>
</li>
          <li class="sidebar-item">
  <a href="../examples/notebook-example.html" class="">Notebook example</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../appendix/index.html" class="">Appendix</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#appendix-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="appendix-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../appendix/about.html" class="">About</a>
</li>
          <li class="sidebar-item">
  <a href="../appendix/glossary.html" class="">Glossary</a>
</li>
          <li class="sidebar-item">
  <a href="../transformations/harmonypy.html" class="">Harmony Py Library</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-section-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../contributing/index.html" class="">Contributing</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#contributing-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="contributing-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../contributing/setup.html" class="">Initial Setup</a>
</li>
          <li class="sidebar-item">
  <a href="../contributing/workflow.html" class="active">Workflow</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
  </ul>
  </div>
</nav>
  </div>
  <div id="quarto-toc-sidebar" class="col col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-toc order-last"><nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#workflow-for-contributing-to-our-cookbook" class="nav-link active" data-scroll-target="#workflow-for-contributing-to-our-cookbook">Workflow for contributing to our Cookbook</a></li>
<li><a href="#quickstart-reference" class="nav-link" data-scroll-target="#quickstart-reference">Quickstart reference</a></li>
<li><a href="#github-workflow" class="nav-link" data-scroll-target="#github-workflow">GitHub Workflow</a>
<ul class="collapse">
<li><a href="#branch-setup" class="nav-link" data-scroll-target="#branch-setup">Branch setup</a></li>
<li><a href="#develop-content" class="nav-link" data-scroll-target="#develop-content">Develop content</a></li>
<li><a href="#commit-changes" class="nav-link" data-scroll-target="#commit-changes">Commit changes</a></li>
<li><a href="#push-changes" class="nav-link" data-scroll-target="#push-changes">Push changes</a></li>
<li><a href="#pull-request" class="nav-link" data-scroll-target="#pull-request">Pull Request</a></li>
<li><a href="#delete-branch" class="nav-link" data-scroll-target="#delete-branch">Delete Branch</a></li>
</ul></li>
<li><a href="#quarto-workflow" class="nav-link" data-scroll-target="#quarto-workflow">Quarto Workflow</a>
<ul class="collapse">
<li><a href="#quarto-serve" class="nav-link" data-scroll-target="#quarto-serve">Quarto serve</a></li>
<li><a href="#develop-cookbook-content" class="nav-link" data-scroll-target="#develop-cookbook-content">Develop Cookbook Content</a></li>
<li><a href="#quarto-render" class="nav-link" data-scroll-target="#quarto-render">Quarto render</a></li>
</ul></li>
<li><a href="#virtual-environments" class="nav-link" data-scroll-target="#virtual-environments">Virtual Environments</a></li>
<li><a href="#cookbook-structure" class="nav-link" data-scroll-target="#cookbook-structure">Cookbook Structure</a></li>
<li><a href="#cookbook-practices" class="nav-link" data-scroll-target="#cookbook-practices">Cookbook Practices</a>
<ul class="collapse">
<li><a href="#executing-notebooks" class="nav-link" data-scroll-target="#executing-notebooks">Executing notebooks</a></li>
</ul></li>
<li><a href="#code-review" class="nav-link" data-scroll-target="#code-review">Code Review</a></li>
<li><a href="#troubleshooting" class="nav-link" data-scroll-target="#troubleshooting">Troubleshooting</a>
<ul class="collapse">
<li><a href="#error-addrinuse" class="nav-link" data-scroll-target="#error-addrinuse">Error: AddrInUse</a></li>
<li><a href="#leaveexit-a-virtual-environment" class="nav-link" data-scroll-target="#leaveexit-a-virtual-environment">Leave/exit a virtual environment</a></li>
</ul></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/edit/main/contributing/workflow.md">Edit this page</a></p><p><a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook/issues/new">Report an issue</a></p></div></div></nav></div>
  <div class="col mx-auto col-sm-12 col-md-9 col-lg-7 px-lg-4">
<main>
<header id="title-block-header">
<h1 class="title d-none d-lg-block display-7">Workflow</h1>
</header>

<section id="workflow-for-contributing-to-our-cookbook" class="level2">
<h2 class="anchored" data-anchor-id="workflow-for-contributing-to-our-cookbook">Workflow for contributing to our Cookbook</h2>
<p>Your workflow can be from wherever you are most comfortable. You can develop chapters working in a text editor, integrated development environment (IDE), or notebook interface. And you can serve Quarto from the Command Line or R. Quarto will combine files of different types ( <code>.md</code> , <code>.ipynb</code>, <code>.Rmd</code>, and <code>.qmd</code>) to make the Cookbook. This workflow can streamline collaboration for scientific &amp; technical writing across programming languages.</p>
<p>By default, rendering the Cookbook will only act on markdown text and will not execute any code. This way, rendering the whole Cookbook will not become overly cumbersome as it grows, and there is not one single virtual environment with all the libraries required. Instead our workflow is that as you develop a single chapter (or section), you control when you render, and can create a <code>requirements.txt</code> file for that chapter (or section). This will also make it much easier to port lessons that work standalone and are ready for a Cloud instance or a workshop.</p>
</section>
<section id="quickstart-reference" class="level2">
<h2 class="anchored" data-anchor-id="quickstart-reference">Quickstart reference</h2>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-1" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Summary of the commands detailed below
</div>
<button type="button" class="callout-btn-toggle btn d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></button>
</div>
<div id="callout-1" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">## check which branches exist, where you are, and pull recent from main branch</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">## create and switch to new branch</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> branch-name </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">## develop content</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">## write prose in markdown, code in R and Python</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">## commit changes</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add <span class="at">--all</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"my commit message here"</span> </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">## push changes</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin branch-name  <span class="co"># connect your branch to github.com and push</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">## create a pull request</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">## from GitHub.com, create a pull request and once it is merged, delete your branch</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co">## delete branch</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main         <span class="co"># switch to the main branch</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull                  <span class="co"># pull merged updates from github.com</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-d</span> branch-name <span class="co"># delete old local  branch</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="github-workflow" class="level2">
<h2 class="anchored" data-anchor-id="github-workflow">GitHub Workflow</h2>
<p>First let’s talk about the GitHub part of the workflow.</p>
<p>We will work in branches so as to not overwrite each other’s work, and let GitHub do what it does best.</p>
<p>The <code>main</code> branch will be the current approved version of the book. The main branch is what displays at <a href="https://nasa-openscapes.github.io/earthdata-cloud-cookbook" class="uri">https://nasa-openscapes.github.io/earthdata-cloud-cookbook</a>.</p>
<p>A nice clean workflow with branches is to consider them temporary. You pull the most recent from <code>main</code>, you create a branch locally, you make your edits, you commit regularly, you push regularly to github.com, and then you create a pull request for it to be merged into <code>main</code>, and when it’s approved the branch is deleted on github.com and you also delete it locally. That’s the workflow we’ll walk through here. A great resource on GitHub setup and collaboration is <a href="https://happygitwithr.com/">Happy Git with R</a>, which includes fantastic background philosophy as well as bash commands for setup, workflows, and collaboration.</p>
<p>The following assumes you’re all <a href="contributing/setup">setup</a> from the previous chapter.</p>
<section id="branch-setup" class="level3">
<h3 class="anchored" data-anchor-id="branch-setup">Branch setup</h3>
<p>First off, check what branch you’re on and pull the most recent edits from the main branch. If you need to switch branches, use <code>git checkout</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch          <span class="co"># returns all local branches</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main   <span class="co"># switch branch to main</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull            <span class="co"># pull most recent from the main branch</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you are already on the <code>main</code> branch, git will tell you, and that’s fine.</p>
<p>(If you have any residual branches from before, you’ll likely want to start off by deleting them — assuming they were temporary and have been merged into github.com. You can delete a branch with <code>git branch -d branch-name</code>).</p>
<p>Next, create a new branch, then switch to that branch to work in. Below is a one-step approach for the two-step process of <code>git branch branch-name</code> then <code>git checkout branch-name</code> (read <a href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">more</a>).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> branch-name  <span class="co"># create and switch to new branch</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="develop-content" class="level3">
<h3 class="anchored" data-anchor-id="develop-content">Develop content</h3>
<p>Time to edit and develop content, and run your Quarto Workflow – see <a href="#develop-cookbook-content">specific instructions below</a>. While you’re developing, you’ll want to frequently commit and push your changes.</p>
</section>
<section id="commit-changes" class="level3">
<h3 class="anchored" data-anchor-id="commit-changes">Commit changes</h3>
<p>You’ll commit your work regularly as you go, likely using the following, which commits all files you’ve affected within the Cookbook project:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add <span class="at">--all</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"my commit message here"</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>From <a href="https://r-pkgs.org/git.html#git-commit">R Packages</a>:</p>
<blockquote class="blockquote">
<p>A commit takes a snapshot of your code at a specified point in time. Using a Git commit is like using anchors and other protection when climbing. If you’re crossing a dangerous rock face you want to make sure you’ve used protection to catch you if you fall. Commits play a similar role: if you make a mistake, you can’t fall past the previous commit.</p>
</blockquote>
<p>Here are some of Hadley Wickham’s suggested <a href="https://r-pkgs.org/git.html#commit-best-practices">best practices</a></p>
</section>
<section id="push-changes" class="level3">
<h3 class="anchored" data-anchor-id="push-changes">Push changes</h3>
<p>When you’re ready to push changes you’ve made in your branch, you’ll first need to connect it to github.com by pushing it “upstream” to the “origin repository” (<code>-u</code> below is short for <code>--set-upstream</code>):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin branch-name  <span class="co"># connect your branch to github.com and push</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The above is a one-time command to connect your local branch back to github.com. After you’ve pushed successfully the first time, then as you continue to commit, you’ll be able to push as normal:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="pull-request" class="level3">
<h3 class="anchored" data-anchor-id="pull-request">Pull Request</h3>
<p>Now you’ve synced your work to github.com. It is currently online, in a separate branch from the <code>main</code> branch. Go to <a href="https://github.com/nasa-openscapes/earthdata-cloud-cookbook" class="uri">https://github.com/nasa-openscapes/earthdata-cloud-cookbook</a>, find your branch, and do a pull request.</p>
<p>TODO: Let’s discuss our review process:</p>
<ul>
<li>Tag someone to review, (including you if it’s a quick fix?)</li>
<li>Timeline</li>
<li>Merging</li>
</ul>
<p>When the pull request is merged, delete the branch on github.com. GitHub will prompt you with a button at the end of the merge.</p>
</section>
<section id="delete-branch" class="level3">
<h3 class="anchored" data-anchor-id="delete-branch">Delete Branch</h3>
<p>Once your pull request is merged and you’ve deleted the branch from github.com, then come back to your local setup and delete the branch locally:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main         <span class="co"># switch to the main branch</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull                  <span class="co"># pull merged updates from github.com</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-d</span> branch-name <span class="co"># delete old local  branch</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="quarto-workflow" class="level2">
<h2 class="anchored" data-anchor-id="quarto-workflow">Quarto Workflow</h2>
<p>Now the fun part! Our overall workflow will be to serve the book at the beginning, develop/edit chapters as simple text files (<code>.md</code>/<code>.qmd</code>/<code>.Rmd</code>) or executable notebooks (<code>.ipynb</code>) that will all render into the book.</p>
<p>Quarto lets us easily convert between file types, so depending on how you prefer to work and how you’d like to interact with different audiences, we can go between formats as we wish. For example, we can converting an existing <code>.ipynb</code> to <code>.qmd</code> to collaborate during development, and then convert back to <code>.ipynb</code> files for our workshops. See <code>quarto convert help</code> for details.</p>
<p>As you work, you’ll follow our GitHub workflow above, committing regularly. And you can optionally use <code>quarto render</code> to rebuild the whole Cookbook before pushing to github.com.</p>
<p>The following is to run Quarto from the command line; see <a href="https://quarto.org/docs/getting-started/quarto-basics.html">quarto.org</a> to see equivalents in R.</p>
<section id="quarto-serve" class="level3">
<h3 class="anchored" data-anchor-id="quarto-serve">Quarto serve</h3>
<p>The thing to do first is to “serve” the Cookbook so that we can see what it looks like as we develop the chapters (it’s called “serve” because it’s really a website that looks like a book).</p>
<p>Run the following from your branch in your <code>earthdata-cloud-cookbook</code> directory from the command line:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> serve</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And after it’s is served, you can click from the console (or paste the url into your browser) to see the development version of the Cookbook.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
This command line instance is now being used to serve Quarto
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can open another instance to continue working from the command line, including running other shell commands and rendering (see next). Launching your command line shell of choice will open a new instance.</p>
</div>
</div>
</section>
<section id="develop-cookbook-content" class="level3">
<h3 class="anchored" data-anchor-id="develop-cookbook-content">Develop Cookbook Content</h3>
<p>You can develop Cookbook chapters as text files (<code>.md</code>/<code>.qmd</code>/<code>.Rmd</code>) in the text editor of your choice. You can also develop chapters as <code>.ipynb</code> from JupyterLab, Anaconda, etc (see more about <a href="https://quarto.org/docs/computations/using-jupyter-lab.html">JupyterLab with Quarto</a>).</p>
<section id="rstudio-ide-visual-editor" class="level4">
<h4 class="anchored" data-anchor-id="rstudio-ide-visual-editor">RStudio IDE &amp; Visual Editor</h4>
<p>You can also use the RStudio IDE. It can be used as a simple text editor, but it can also interactively execute code in <code>.qmd</code> and <code>.Rmd</code> files — which are plain text files. This will streamline testing and collaboration as we develop content.</p>
<p>The RStudio IDE Visual Editor makes this experience feel like a cross between an interactive notebook and a Google Doc:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../contributing/images/rstudio-visual-editor-qmd.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">The RStudio IDE Visual Editor with an interactive .qmd file</figcaption><p></p>
</figure>
</div>
<p>Above shows the Visual Editor in the top left pane with an interactive <code>.qmd</code> file. Learn more about the <a href="https://rstudio.github.io/visual-markdown-editing/#/">RStudio Visual Editor</a>.</p>
<p>Another benefit of the RStudio IDE is that it has a docked command line (Terminal, bottom left pane), file navigation (bottom right pane) and GitHub interface (top right pane). The IDE helps keep things organized as you work, and provides a visual way to review your git commits and do common commands (see this RStudio-GitHub walk through from <a href="https://rstudio-conf-2020.github.io/r-for-excel/github.html#sync-from-rstudio-local-to-github-remote">R for Excel Users</a>). Note too that the image shows the second instance of the Terminal command line; the first is being used to serve Quarto.</p>
</section>
</section>
<section id="quarto-render" class="level3">
<h3 class="anchored" data-anchor-id="quarto-render">Quarto render</h3>
<p>As you develop book chapters and edit files, any <code>.md</code> files will automatically refresh in the browser (so long as quarto serve is running)!</p>
<p>To refresh files with executable code, you’ll need to render them individually. You can do the following to render <code>.ipynb</code>/<code>.qmd</code>/<code>.Rmd</code> files so that they show up refreshed in the served Cookbook.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render my-document.ipynb      <span class="co">## render a notebook</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render my-work.qmd            <span class="co">## render a Quarto file</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render my-contribution.Rmd    <span class="co">## render a RMarkdown file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>From the RStudio IDE, you can also press the <strong>Render</strong> button to render <code>.qmd</code> and <code>.Rmd</code> files.</p>
<p>And you can also render the whole book:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Learn more about <a href="https://quarto.org/docs/computations/running-code.html#rendering">rendering with Quarto</a>. From J.J. Allaire:</p>
<blockquote class="blockquote">
<p>The reason Quarto doesn’t render <code>.Rmd</code> and <code>.qmd</code> on save is that render could (potentially) be very long running and that cost shouldn’t be imposed on you whenever you save. Here we are talking about the age old debate of whether computational markdown should be rendered on save when running a development server. Quarto currently doesn’t do this to give the user a choice between an expensive render and a cheap save.</p>
</blockquote>
</section>
</section>
<section id="virtual-environments" class="level2">
<h2 class="anchored" data-anchor-id="virtual-environments">Virtual Environments</h2>
<p>If you are working on a chapter that loads any Python or R packages, to make your work reproducible you’ll need to create and then update the <code>environments.txt</code> file. Do this use the <code>pip freeze</code> command:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> freeze <span class="op">&gt;</span> requirements.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will overwrite/update the <code>requirements.txt</code> file. Depending on where you are working, you might also want to create a new subfolder to store the <code>requirements.txt</code>. See the next section on Cookbook Structure.</p>
<p>You you will then commit and push along with your other edits back to github.com.</p>
<p>TODO: info about conda…</p>
</section>
<section id="cookbook-structure" class="level2">
<h2 class="anchored" data-anchor-id="cookbook-structure">Cookbook Structure</h2>
<p>Each chapter in our Cookbook is a separate file (<code>.md</code>/ <code>.ipynb</code>/<code>.qmd</code>/<code>.Rmd</code>). These are stored in our <code>files</code> directory, organized by sub-directory.</p>
<p>The Cookbook structure (i.e.&nbsp;the order of sections and chapters) is determined in the <code>_quarto.yml</code> file in the root directory. We can shuffle chapter order by editing the <code>_quarto.yml</code> file, and and add new chapters by adding to the <code>_quarto.yml</code> and creating a new file in the appropriate sub-directory that is indicated in <code>_quarto.yml</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../files/contributing/images/quarto-yml-serve-compare.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Comparing `_quarto.yml` file to served project in the browser</figcaption><p></p>
</figure>
</div>
<p>Please experiment, add new chapters and sections; we can shuffle chapter order and subsections as we continue to develop the Cookbook, nothing is set in stone.</p>
</section>
<section id="cookbook-practices" class="level2">
<h2 class="anchored" data-anchor-id="cookbook-practices">Cookbook Practices</h2>
<p>These are shared practices that we have for co-developing the Cookbook. This will be developed further as we go!</p>
<section id="executing-notebooks" class="level3">
<h3 class="anchored" data-anchor-id="executing-notebooks">Executing notebooks</h3>
<p>As you develop files with executable code ( <code>.qmd</code>, <code>.Rmd</code>, and <code>.ipynb</code>), you can decide if you don’t want the notebook to execute. By adding YAML as a raw text cell at the top of an <code>.ipynb</code> file, you can control whether it is executed or not. Adding <code>execute: false</code> to the YAML at the top of the file basically means that Quarto never runs the code, but the user of course still can interactively in Jupyter.</p>
<p>Using <code>.qmd</code> there are also ways to control execution cell-by-cell via <code># |</code> syntax within a code chunk; see <a href="https://quarto.org/docs/computations/execution-options.html" class="uri">https://quarto.org/docs/computations/execution-options.html</a></p>
</section>
</section>
<section id="code-review" class="level2">
<h2 class="anchored" data-anchor-id="code-review">Code Review</h2>
<p>Upcoming.</p>
</section>
<section id="troubleshooting" class="level2">
<h2 class="anchored" data-anchor-id="troubleshooting">Troubleshooting</h2>
<section id="error-addrinuse" class="level3">
<h3 class="anchored" data-anchor-id="error-addrinuse">Error: AddrInUse</h3>
<p><code>ERROR: AddrInUse: Address already in use (os error 48)</code></p>
<p>This error is because you had more than one instance of <code>quarto serve</code> going in your session. So close other command line instances that are running and try again. (If you use the R package and do <code>quarto_serve()</code> it will automatically make sure you only ever have 1 instance.)</p>
</section>
<section id="leaveexit-a-virtual-environment" class="level3">
<h3 class="anchored" data-anchor-id="leaveexit-a-virtual-environment">Leave/exit a virtual environment</h3>
<p>In your Command Line Shell, if you want to leave your virtual environment, the command is:</p>
<pre class="{bash}"><code>deactivate</code></pre>
<p>The way you tell that you are in a virtual environment: it’s named in parentheses at the beginning of your prompt:</p>
<pre class="{bash}"><code>(.venv) (base) JLos-Macbook-Pro:earthdata-cloud-cookbook lowndes$ deactivate
(base) JLos-Macbook-Pro:earthdata-cloud-cookbook lowndes$ </code></pre>
<!-- -->
</section>
</section>
</main>
<div class="page-navigation page-navigation-docked">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
  </div>
</div>
</div> <!-- /main column -->
</div> <!-- /row -->
</div> <!-- /container fluid -->


</body></html>